
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>AccessType API Documentation</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="/stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="/stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="/javascripts/all.js"></script>
  </head>

  <body class="access-type access-type_index" data-languages="[&quot;shell--request&quot;,&quot;shell--response&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="/images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="/images/logo.svg" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell--request">Request</a>
              <a href="#" data-language-name="shell--response">Response</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction-to-accesstype" class="toc-h1 toc-link" data-title="Introduction To AccessType">Introduction To AccessType</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#terminology" class="toc-h2 toc-link" data-title="Introduction To AccessType">Terminology</a>
                  </li>
                  <li>
                    <a href="#payment" class="toc-h2 toc-link" data-title="Introduction To AccessType">Payment</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#payment-types" class="toc-h3 toc-link" data-title="Payment Types">Payment Types</a>
                          </li>
                          <li>
                            <a href="#payment-amount" class="toc-h3 toc-link" data-title="Payment Amount">Payment Amount</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#accesstype-js" class="toc-h1 toc-link" data-title="AccessType JS">AccessType JS</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#readme" class="toc-h2 toc-link" data-title="AccessType JS">Readme</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#usage" class="toc-h3 toc-link" data-title="Usage">Usage</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#set-user" class="toc-h4 toc-link" data-title="Set User">Set User</a>
                                  </li>
                                  <li>
                                    <a href="#for-logged-in-user" class="toc-h4 toc-link" data-title="For logged in user">For logged in user</a>
                                  </li>
                                  <li>
                                    <a href="#for-non-logged-in-user" class="toc-h4 toc-link" data-title="For non logged in user">For non logged in user</a>
                                  </li>
                                  <li>
                                    <a href="#get-payment-options" class="toc-h4 toc-link" data-title="Get Payment Options">Get Payment Options</a>
                                  </li>
                                  <li>
                                    <a href="#get-subscription-plans" class="toc-h4 toc-link" data-title="Get Subscription Plans">Get Subscription Plans</a>
                                  </li>
                                  <li>
                                    <a href="#get-asset-subscription-plans" class="toc-h4 toc-link" data-title="Get Asset Subscription Plans">Get Asset Subscription Plans</a>
                                  </li>
                                  <li>
                                    <a href="#purchase-optional" class="toc-h4 toc-link" data-title="Purchase (optional)">Purchase (optional)</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#juspay-integration" class="toc-h3 toc-link" data-title="JUSPAY integration">JUSPAY integration</a>
                          </li>
                          <li>
                            <a href="#razorpay-recurring-integration" class="toc-h3 toc-link" data-title="Razorpay Recurring Integration">Razorpay Recurring Integration</a>
                          </li>
                          <li>
                            <a href="#table-of-contents" class="toc-h3 toc-link" data-title="Table of Contents">Table of Contents</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#accesstype" class="toc-h2 toc-link" data-title="AccessType JS">AccessType</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#version" class="toc-h3 toc-link" data-title="version">version</a>
                          </li>
                          <li>
                            <a href="#init" class="toc-h3 toc-link" data-title="init">init</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#setuser" class="toc-h3 toc-link" data-title="setUser">setUser</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters-2" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#unsetuser" class="toc-h3 toc-link" data-title="unsetUser">unsetUser</a>
                          </li>
                          <li>
                            <a href="#getpaymentoptions" class="toc-h3 toc-link" data-title="getPaymentOptions">getPaymentOptions</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters-3" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#getassetplans" class="toc-h3 toc-link" data-title="getAssetPlans">getAssetPlans</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters-4" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#getsubscriptionplans" class="toc-h3 toc-link" data-title="getSubscriptionPlans">getSubscriptionPlans</a>
                          </li>
                          <li>
                            <a href="#hasaccess" class="toc-h3 toc-link" data-title="hasAccess">hasAccess</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters-5" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#isassetaccessible" class="toc-h3 toc-link" data-title="isAssetAccessible">isAssetAccessible</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters-6" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#pingbackassetaccess" class="toc-h3 toc-link" data-title="pingbackAssetAccess">pingbackAssetAccess</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters-7" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#purchase" class="toc-h3 toc-link" data-title="purchase">purchase</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters-8" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#validatecoupon" class="toc-h3 toc-link" data-title="validateCoupon">validateCoupon</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters-9" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#validatevoucher" class="toc-h3 toc-link" data-title="validateVoucher">validateVoucher</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters-10" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#getsubscriptions" class="toc-h3 toc-link" data-title="getSubscriptions">getSubscriptions</a>
                          </li>
                          <li>
                            <a href="#updatesubscription" class="toc-h3 toc-link" data-title="updateSubscription">updateSubscription</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters-11" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#cancelsubscription" class="toc-h3 toc-link" data-title="cancelSubscription">cancelSubscription</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters-12" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#getassets" class="toc-h3 toc-link" data-title="getAssets">getAssets</a>
                          </li>
                          <li>
                            <a href="#getrewards" class="toc-h3 toc-link" data-title="getRewards">getRewards</a>
                          </li>
                          <li>
                            <a href="#resetwallets" class="toc-h3 toc-link" data-title="resetWallets">resetWallets</a>
                          </li>
                          <li>
                            <a href="#downloadinvoice" class="toc-h3 toc-link" data-title="downloadInvoice">downloadInvoice</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#parameters-13" class="toc-h4 toc-link" data-title="Parameters">Parameters</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#isprivatemode" class="toc-h3 toc-link" data-title="isPrivateMode">isPrivateMode</a>
                          </li>
                          <li>
                            <a href="#getreferralvoucher" class="toc-h3 toc-link" data-title="getReferralVoucher">getReferralVoucher</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#durationunit" class="toc-h2 toc-link" data-title="AccessType JS">DurationUnit</a>
                  </li>
                  <li>
                    <a href="#subscriptiontype" class="toc-h2 toc-link" data-title="AccessType JS">SubscriptionType</a>
                  </li>
                  <li>
                    <a href="#assettype" class="toc-h2 toc-link" data-title="AccessType JS">AssetType</a>
                  </li>
                  <li>
                    <a href="#paymenttype" class="toc-h2 toc-link" data-title="AccessType JS">PaymentType</a>
                  </li>
                  <li>
                    <a href="#environment" class="toc-h2 toc-link" data-title="AccessType JS">Environment</a>
                  </li>
                  <li>
                    <a href="#user" class="toc-h2 toc-link" data-title="AccessType JS">User</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#subscriptionplan" class="toc-h2 toc-link" data-title="AccessType JS">SubscriptionPlan</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-2" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#subscriptionasset" class="toc-h2 toc-link" data-title="AccessType JS">SubscriptionAsset</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-3" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#paymentparams" class="toc-h2 toc-link" data-title="AccessType JS">PaymentParams</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-4" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#subscriptionparams" class="toc-h2 toc-link" data-title="AccessType JS">SubscriptionParams</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-5" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#subscriptionmetadata" class="toc-h2 toc-link" data-title="AccessType JS">SubscriptionMetadata</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-6" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#initconfig" class="toc-h2 toc-link" data-title="AccessType JS">InitConfig</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-7" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#purchaseableasset" class="toc-h2 toc-link" data-title="AccessType JS">PurchaseableAsset</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-8" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#paymentoption" class="toc-h2 toc-link" data-title="AccessType JS">PaymentOption</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-9" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#paymentoptions" class="toc-h2 toc-link" data-title="AccessType JS">PaymentOptions</a>
                  </li>
                  <li>
                    <a href="#error" class="toc-h2 toc-link" data-title="AccessType JS">Error</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-10" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#couponvalidationrequest" class="toc-h2 toc-link" data-title="AccessType JS">CouponValidationRequest</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-11" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#vouchervalidationrequest" class="toc-h2 toc-link" data-title="AccessType JS">VoucherValidationRequest</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-12" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#discountdetails" class="toc-h2 toc-link" data-title="AccessType JS">DiscountDetails</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-13" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#couponvalidationresponse" class="toc-h2 toc-link" data-title="AccessType JS">CouponValidationResponse</a>
                  </li>
                  <li>
                    <a href="#assetattributes" class="toc-h2 toc-link" data-title="AccessType JS">AssetAttributes</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-14" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#asset" class="toc-h2 toc-link" data-title="AccessType JS">Asset</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-15" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#meter" class="toc-h2 toc-link" data-title="AccessType JS">Meter</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-16" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#assetaccess" class="toc-h2 toc-link" data-title="AccessType JS">AssetAccess</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#properties-17" class="toc-h3 toc-link" data-title="Properties">Properties</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subscriber-identities" class="toc-h1 toc-link" data-title="Subscriber Identities">Subscriber Identities</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-subscriber-identities-for-a-user" class="toc-h2 toc-link" data-title="Subscriber Identities">LIST Subscriber Identities for a user</a>
                  </li>
                  <li>
                    <a href="#post-create-a-subscriber-identity-for-a-user" class="toc-h2 toc-link" data-title="Subscriber Identities">POST Create a Subscriber Identity for a user</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subscription-groups" class="toc-h1 toc-link" data-title="Subscription Groups">Subscription Groups</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-subscription-groups" class="toc-h2 toc-link" data-title="Subscription Groups">LIST all Subscription Groups</a>
                  </li>
                  <li>
                    <a href="#get-a-subscription-group" class="toc-h2 toc-link" data-title="Subscription Groups">GET a Subscription Group</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subscriptions" class="toc-h1 toc-link" data-title="Subscriptions">Subscriptions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-subscriptions-for-a-user" class="toc-h2 toc-link" data-title="Subscriptions">LIST Subscriptions for a user</a>
                  </li>
                  <li>
                    <a href="#post-preview-a-subscription" class="toc-h2 toc-link" data-title="Subscriptions">POST Preview a Subscription</a>
                  </li>
                  <li>
                    <a href="#post-create-a-subscription" class="toc-h2 toc-link" data-title="Subscriptions">POST Create a Subscription</a>
                  </li>
                  <li>
                    <a href="#patch-update-attributes" class="toc-h2 toc-link" data-title="Subscriptions">PATCH update attributes</a>
                  </li>
                  <li>
                    <a href="#patch-bulk-update-attributes" class="toc-h2 toc-link" data-title="Subscriptions">PATCH bulk update attributes</a>
                  </li>
                  <li>
                    <a href="#delete-a-subscription" class="toc-h2 toc-link" data-title="Subscriptions">DELETE a subscription</a>
                  </li>
                  <li>
                    <a href="#cancel-a-subscription" class="toc-h2 toc-link" data-title="Subscriptions">CANCEL a subscription</a>
                  </li>
                  <li>
                    <a href="#post-renew-a-subscription" class="toc-h2 toc-link" data-title="Subscriptions">POST renew a subscription</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#recurring-subscriptions" class="toc-h1 toc-link" data-title="Recurring Subscriptions">Recurring Subscriptions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-register-a-recurring-subscription" class="toc-h2 toc-link" data-title="Recurring Subscriptions">POST register a recurring subscription</a>
                  </li>
                  <li>
                    <a href="#trial-period-for-a-recurring-subscription" class="toc-h2 toc-link" data-title="Recurring Subscriptions">Trial period for a recurring subscription</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subscription-gifts" class="toc-h1 toc-link" data-title="Subscription Gifts">Subscription Gifts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-create-a-subscription-for-gifting" class="toc-h2 toc-link" data-title="Subscription Gifts">POST Create a Subscription for gifting</a>
                  </li>
                  <li>
                    <a href="#list-subscriptions-gifted-by-a-user" class="toc-h2 toc-link" data-title="Subscription Gifts">LIST Subscriptions gifted by a user</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#campaigns" class="toc-h1 toc-link" data-title="Campaigns">Campaigns</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-campaigns" class="toc-h2 toc-link" data-title="Campaigns">LIST all Campaigns</a>
                  </li>
                  <li>
                    <a href="#get-a-campaign" class="toc-h2 toc-link" data-title="Campaigns">GET a Campaign</a>
                  </li>
                  <li>
                    <a href="#post-preview-a-patron-subscription" class="toc-h2 toc-link" data-title="Campaigns">POST Preview a Patron Subscription</a>
                  </li>
                  <li>
                    <a href="#post-create-a-patron-subscription" class="toc-h2 toc-link" data-title="Campaigns">POST Create a Patron Subscription</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#pay-per-asset" class="toc-h1 toc-link" data-title="Pay Per Asset">Pay Per Asset</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-prices-of-assets" class="toc-h2 toc-link" data-title="Pay Per Asset">List Prices of Assets</a>
                  </li>
                  <li>
                    <a href="#create-asset-purchase-api" class="toc-h2 toc-link" data-title="Pay Per Asset">Create Asset Purchase API</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#assets" class="toc-h1 toc-link" data-title="Assets">Assets</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-all-assets-accessible-to-a-user" class="toc-h2 toc-link" data-title="Assets">LIST All Assets accessible to a user</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subscriber-wallets" class="toc-h1 toc-link" data-title="Subscriber Wallets">Subscriber Wallets</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-subscriber-wallet-token" class="toc-h2 toc-link" data-title="Subscriber Wallets">POST subscriber wallet token</a>
                  </li>
                  <li>
                    <a href="#list-wallets-of-subscriber" class="toc-h2 toc-link" data-title="Subscriber Wallets">LIST wallets of subscriber</a>
                  </li>
                  <li>
                    <a href="#delete-wallets-of-subscriber" class="toc-h2 toc-link" data-title="Subscriber Wallets">DELETE wallets of subscriber</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#coupon-codes" class="toc-h1 toc-link" data-title="Coupon codes">Coupon codes</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-discount-details-for-a-subscription-plan" class="toc-h2 toc-link" data-title="Coupon codes">GET discount details for a subscription plan</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#invoices" class="toc-h1 toc-link" data-title="Invoices">Invoices</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-invoice-details-for-a-subscription" class="toc-h2 toc-link" data-title="Invoices">GET invoice details for a subscription</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#invoice-template-variables" class="toc-h3 toc-link" data-title="Invoice Template Variables">Invoice Template Variables</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#subscriber-referral-voucher" class="toc-h1 toc-link" data-title="Subscriber Referral Voucher">Subscriber Referral Voucher</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-referral-voucher-for-a-user" class="toc-h2 toc-link" data-title="Subscriber Referral Voucher">GET Referral voucher for a user</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#webhooks" class="toc-h1 toc-link" data-title="Webhooks">Webhooks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#how-to-setup-accesstype-webhooks" class="toc-h2 toc-link" data-title="Webhooks">How to Setup Accesstype webhooks</a>
                  </li>
                  <li>
                    <a href="#how-accesstype-outgoing-webhooks-work" class="toc-h2 toc-link" data-title="Webhooks">How Accesstype Outgoing Webhooks work</a>
                  </li>
                  <li>
                    <a href="#description-of-events" class="toc-h2 toc-link" data-title="Webhooks">Description of events</a>
                  </li>
                  <li>
                    <a href="#verify-webhooks-sent-by-accesstype" class="toc-h2 toc-link" data-title="Webhooks">Verify Webhooks sent by Accesstype</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#for-quintype-platform-customers" class="toc-h1 toc-link" data-title="For Quintype Platform Customers">For Quintype Platform Customers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-preview-a-subscription-for-logged-in-user" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">POST Preview a subscription for logged in user</a>
                  </li>
                  <li>
                    <a href="#post-create-subscription-for-logged-in-user" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">POST Create Subscription for logged in user</a>
                  </li>
                  <li>
                    <a href="#list-all-subscriptions-of-a-user" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">LIST All subscriptions of a user</a>
                  </li>
                  <li>
                    <a href="#list-all-assets-accessible-to-user" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">LIST All Assets accessible to user</a>
                  </li>
                  <li>
                    <a href="#patch-update-all-subscriptions" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">PATCH Update all subscriptions</a>
                  </li>
                  <li>
                    <a href="#patch-update-a-subscription" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">PATCH Update a subscription</a>
                  </li>
                  <li>
                    <a href="#post-renew-a-subscription-for-logged-in-user" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">POST Renew a subscription for logged in user</a>
                  </li>
                  <li>
                    <a href="#post-create-wallet" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">POST Create Wallet</a>
                  </li>
                  <li>
                    <a href="#get-list-wallets" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">GET List Wallets</a>
                  </li>
                  <li>
                    <a href="#delete-wallets" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">DELETE Wallets</a>
                  </li>
                  <li>
                    <a href="#get-prices-of-assets" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">GET prices of Assets</a>
                  </li>
                  <li>
                    <a href="#get-access-details-with-metering" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">GET Access details with metering</a>
                  </li>
                  <li>
                    <a href="#post-pingback-and-update-meter" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">POST Pingback and update meter</a>
                  </li>
                  <li>
                    <a href="#get-invoice-pdf-download" class="toc-h2 toc-link" data-title="For Quintype Platform Customers">GET Invoice pdf download</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#invoice-template-variables" class="toc-h3 toc-link" data-title="Invoice Template Variables">Invoice Template Variables</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#for-accepting-donations" class="toc-h1 toc-link" data-title="For Accepting Donations">For Accepting Donations</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#post-preview-a-subscription-without-login" class="toc-h2 toc-link" data-title="For Accepting Donations">POST Preview a subscription without login</a>
                  </li>
                  <li>
                    <a href="#post-create-subscription-without-login" class="toc-h2 toc-link" data-title="For Accepting Donations">POST Create Subscription without login</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#em-deprecated-em-for-platform-customers" class="toc-h1 toc-link" data-title="[<em>DEPRECATED</em>] For Platform Customers">[<em>DEPRECATED</em>] For Platform Customers</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#deprecated-post-preview-a-subscription-without-login" class="toc-h2 toc-link" data-title="[<em>DEPRECATED</em>] For Platform Customers">[Deprecated] POST Preview a subscription without login</a>
                  </li>
                  <li>
                    <a href="#deprecated-post-preview-a-subscription-for-logged-in-user" class="toc-h2 toc-link" data-title="[<em>DEPRECATED</em>] For Platform Customers">[Deprecated] POST Preview a subscription for logged in user</a>
                  </li>
                  <li>
                    <a href="#deprecated-post-register-and-subscribe-without-login" class="toc-h2 toc-link" data-title="[<em>DEPRECATED</em>] For Platform Customers">[Deprecated] POST Register And Subscribe without login</a>
                  </li>
                  <li>
                    <a href="#deprecated-post-create-subscription-for-logged-in-user" class="toc-h2 toc-link" data-title="[<em>DEPRECATED</em>] For Platform Customers">[Deprecated] POST Create Subscription for logged in user</a>
                  </li>
                  <li>
                    <a href="#deprecated-list-all-subscriptions-of-a-user" class="toc-h2 toc-link" data-title="[<em>DEPRECATED</em>] For Platform Customers">[Deprecated] LIST All subscriptions of a user</a>
                  </li>
                  <li>
                    <a href="#deprecated-list-all-assets-accessible-to-user" class="toc-h2 toc-link" data-title="[<em>DEPRECATED</em>] For Platform Customers">[Deprecated] LIST All Assets accessible to user</a>
                  </li>
                  <li>
                    <a href="#deprecated-patch-update-a-subscription" class="toc-h2 toc-link" data-title="[<em>DEPRECATED</em>] For Platform Customers">[Deprecated] PATCH Update a subscription</a>
                  </li>
                  <li>
                    <a href="#deprecated-get-access-details" class="toc-h2 toc-link" data-title="[<em>DEPRECATED</em>] For Platform Customers">[Deprecated] GET Access details</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#amp-subscriptions" class="toc-h1 toc-link" data-title="AMP Subscriptions">AMP Subscriptions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-authorization-endpoint" class="toc-h2 toc-link" data-title="AMP Subscriptions">GET Authorization endpoint</a>
                  </li>
                  <li>
                    <a href="#post-pingback-endpoint" class="toc-h2 toc-link" data-title="AMP Subscriptions">POST Pingback endpoint</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#faq" class="toc-h1 toc-link" data-title="FAQ">FAQ</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#how-to-link-your-razorpay-account-with-accesstype" class="toc-h2 toc-link" data-title="FAQ">How to link your Razorpay account with Accesstype</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#pre-requisite" class="toc-h3 toc-link" data-title="Pre-requisite:">Pre-requisite:</a>
                          </li>
                          <li>
                            <a href="#step-1-setup-api-keys-and-secret" class="toc-h3 toc-link" data-title="Step 1: Setup API Keys and Secret:">Step 1: Setup API Keys and Secret:</a>
                          </li>
                          <li>
                            <a href="#step-2-setup-webhooks" class="toc-h3 toc-link" data-title="Step 2: Setup Webhooks:">Step 2: Setup Webhooks:</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#release-notes" class="toc-h1 toc-link" data-title="Release Notes">Release Notes</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#21-nov-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">21 Nov 19 Release NOte - Accesstype</a>
                  </li>
                  <li>
                    <a href="#19-nov-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">19 Nov 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#5-nov-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">5 Nov 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#22-oct-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">22 Oct 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#25-sep-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">25 Sep 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#17-sep-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">17 Sep 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#10-sep-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">10 Sep 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#28-aug-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">28 Aug 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#19-aug-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">19 Aug 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#8-aug-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">8 Aug 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#5-august-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">5 August 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#30-jul-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">30 Jul 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#26-jul-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">26 Jul 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#19-jul-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">19 Jul 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#1-jul-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">1 Jul 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#27-jun-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">27 Jun 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#25-jun-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">25 Jun 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#21-jun-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">21 Jun 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#18-jun-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">18 Jun 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#13-jun-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">13 Jun 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#29-may-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">29 May 19  Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#20-may-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">20 May 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#10-may-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">10 May 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#24-apr-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">24 Apr 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#17-apr-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">17 Apr 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#11-apr-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">11 Apr 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#29-mar-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">29 Mar 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#28-mar-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">28 Mar 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#18-feb-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">18 Feb 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#4-jan-19-release-note-accesstype" class="toc-h2 toc-link" data-title="Release Notes">4 Jan 19 Release Note - Accesstype</a>
                  </li>
                  <li>
                    <a href="#12-dec-18-release-notes-accesstype" class="toc-h2 toc-link" data-title="Release Notes">12 Dec 18 Release Notes - Accesstype</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#new-features" class="toc-h3 toc-link" data-title="New Features:">New Features:</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#11-oct-18-release-notes-accesstype" class="toc-h2 toc-link" data-title="Release Notes">11 Oct 18 Release Notes - Accesstype</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#new-features-2" class="toc-h3 toc-link" data-title="New Features:">New Features:</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#24-sep-18-release-notes-accesstype" class="toc-h2 toc-link" data-title="Release Notes">24 Sep 18 Release Notes - Accesstype</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#new-features-3" class="toc-h3 toc-link" data-title="New Features:">New Features:</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#6-aug-18-release-notes-accesstype" class="toc-h2 toc-link" data-title="Release Notes">6 Aug 18 Release Notes - Accesstype</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#enhancements-and-bug-fixes" class="toc-h3 toc-link" data-title="Enhancements and bug fixes:">Enhancements and bug fixes:</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#10-jul-18-release-notes-accesstype" class="toc-h2 toc-link" data-title="Release Notes">10 Jul 18 Release Notes - Accesstype</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#enhancements-and-bug-fixes-2" class="toc-h3 toc-link" data-title="Enhancements and bug fixes:">Enhancements and bug fixes:</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#28-jun-18-release-notes-accesstype" class="toc-h2 toc-link" data-title="Release Notes">28 Jun 18 Release Notes - Accesstype</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#enhancements-and-bug-fixes-3" class="toc-h3 toc-link" data-title="Enhancements and bug fixes:">Enhancements and bug fixes:</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction-to-accesstype'>Introduction To AccessType</h1>
<p>AccessType is a product for managing subscriptions. It can be used in conjunction with the Quintype Platform</p>
<h2 id='terminology'>Terminology</h2>
<ul>
<li>Asset - An asset is a locked resource, which can be unlocked with a purchase. An asset may have an access level. (Example: Stories, Collections..)</li>
<li>Subscription Group - A subscription group gives a user access to some number of assets.</li>
<li>Subscription Plan - A subscription plan is a purchasable item, for some duration. A subscription plan is attached to a group. Each plan has it&#39;s own price, and may give a few additional assets free.</li>
<li>Subscriber - A person that purchases&#39;s to locked assets. Subscribers will typically not have direct access to AccessType. A subcriber may have multiple identities.</li>
<li>Subscription - A subscription is a particular subscriber&#39;s access to a subscription plan. It will typically have a start date, and an end date, and may recur at some period. A subscription may have an external id if it came from an earlier CMS, which must be unique. <a href="#payment">Payment</a> is required to create a subscription.</li>
<li>Patrons Group - It is the default name of the subscription group for campaigns. It can have many abstract plans (patron plans) attached to it.</li>
<li>Patron Plan - A patron plan is a purchasable item, for some duration. A subscription plan is attached to a patron group. Each plan has it&#39;s own duration, price and assets. A parton plan is purchasable only through a campaign.</li>
<li>Campaign - A campaign is typically used to fund a project and therefore has a goal. A subscriber can contribute to a campaign by choosing any patron plan.</li>
<li>Patrons - Users who have subscribed to a Patron plan of a campaign.</li>
<li>Wallets - A wallet is used by a subscriber to purchase assets or plans. Purchases by subscribers must be validated by Wallet tokens which can be saved in and retrieved from Accesstype.</li>
</ul>
<h2 id='payment'>Payment</h2>
<p>Payment is required to create a subscription for any subscription plan.</p>
<h3 id='payment-types'>Payment Types</h3>
<p>A payment always has a payment_type associated. It can be one of the below:</p>

<ul>
<li>razorpay - Can be used only with one-time subscription plans</li>
<li>razorpay_recurring - Can be used only with recurring subscription plans</li>
<li>android_pay - (Deprecated) Can be used only with one-time subscription plans</li>
<li>androidpay_recurring - (Deprecated) Can be used only with recurring subscription plans</li>
<li>juspay- Can be used only with one-time subscription plans</li>
<li>simpl - Can be used only with one-time subscription plans</li>
<li>paytm_auto_debit - Can be used only with one-time subscription plans</li>
<li>stripe - Can be used only with one-time subscription plans</li>
<li>sponsored - Can be used only when subscription plan worth is zero</li>
<li>reward - Can be used only when subscription plan worth is zero</li>
<li>skip_payment_gateway - Can be used only when payment amount is zero</li>
</ul>
<h3 id='payment-amount'>Payment Amount</h3>
<p>It must be same as subscription plan price. If a valid coupon code is applied, the difference of subscription plan price and payment amount must be equal to the discount amount.</p>

<p>This price validation will be skipped when payment type is <code>android_pay</code> or <code>androidpay_recurring</code></p>
<h1 id='accesstype-js'>AccessType JS</h1><h2 id='readme'>Readme</h2>
<p>AccessType JS is a javascript library provides out of the box features for publishers to integrate frontend browser applications with AccessType supported payment gateways and AccessType backed APIs.</p>
<h3 id='usage'>Usage</h3>
<p>Load AccessTypeJS on the browser</p>

<p><code>https://accesstype.com/frontend/accesstype.js?key=[YOUR_ACCOUNT_KEY]</code></p>

<p>AccessType JS will now automatically load the payment provider scripts that are to be used for different payment options activated by your publisher. For e.g. Razorpay, Simpl JS.</p>

<p>For staging environments where you have configured the payment gateways to use test or sandbox modes, pass an  additional query parameter <code>env=sandbox</code> so that the script configures the payment provider scripts accordingly.</p>

<p><code>https://accesstype.com/frontend/accesstype.js?key=[YOUR_ACCOUNT_KEY]&amp;env=sandbox</code></p>
<h4 id='set-user'>Set User</h4>
<p><code>setUser</code> checks the eligibility of the user for different payment providers and their link status. For e.g. does the user have a simpl account for the phone number. After completion it resolves the promise.</p>
<h4 id='for-logged-in-user'>For logged in user</h4>
<p>Once the user has logged in call with user name, emailAddress and phoneNumber. Phone number is be required for providers like Simpl.</p>
<pre class="highlight plaintext"><code>AccessType.setUser({ 'emailAddress': emailAddress, 'mobileNumber':  mobileNumber}).then(() =&gt; ... )
</code></pre><h4 id='for-non-logged-in-user'>For non logged in user</h4>
<p>In case when the user is not logged in, <code>setUser</code> needs to be called with an additional field <code>isLoggedIn: false</code> .</p>
<pre class="highlight plaintext"><code>AccessType.setUser({ 'emailAddress': emailAddress, 'mobileNumber':  mobileNumber, `isLoggedIn`: false}).then(() =&gt; ... )
</code></pre><h4 id='get-payment-options'>Get Payment Options</h4>
<p><code>getPaymentOptions()</code> returns the available payment options for the user. For e.g. if user has a simpl account it returns that along.</p>
<pre class="highlight plaintext"><code>AccessType.getPaymentOptions().then((paymentOptions) =&gt; ...)

where paymentOptions structure is {
  'simpl': {
    'action': 'link', //anyOf link, pay etc.
    'proceed': fn(args)
  },
  'razorpay': {
    'action': 'pay', //only pay
    'proceed': fn(args)
  },
  'paytm_auto_debit': {
    'action': 'link', //anyOf send_otp, link, pay
    'proceed': fn(args)
  }

}
</code></pre>
<p>The keys are the names of the payment providers that can be used of the payment.</p>

<p>The values are context objects related to that payment provider. For e.g. in the case of Simpl, there is a linking step that a new user will have to complete before they can use it.</p>

<p>In that case the value for simpl is <code>{&#39;action&#39;: &#39;link&#39;, &#39;proceed&#39;: fn()  }</code></p>

<p>The <code>proceed</code> is a callback function that takes user to next step.</p>

<p>The <code>pay</code> method accepts an object of the type SubscriptionParams as defined in types.js</p>
<h4 id='get-subscription-plans'>Get Subscription Plans</h4>
<p>Get &#39;standard&#39; subscription plans</p>

<p><code>AccessType.getSubscriptionPlans(): Array&lt;SubscriptionPlan&gt;</code></p>
<h4 id='get-asset-subscription-plans'>Get Asset Subscription Plans</h4>
<p>Get &#39;dynamic_asset&#39; subscription plans for given asset</p>
<pre class="highlight plaintext"><code>AccessType.getAssetPlans(asset: PurchaseableAsset): Array&lt;SubscriptionPlan&gt;
</code></pre><h4 id='purchase-optional'>Purchase (optional)</h4>
<p>You can at any point use <code>AccessType.purchase(..)</code> to independently make payments and purchase subscriptions.</p>
<h3 id='juspay-integration'>JUSPAY integration</h3>
<p>Pre requisites:
* Set User and construction of SubscriptionParams <a href="./API.md">refer api.md</a>
* Juspay dashboard needs to be set up with a redirect url
* In the cases, where user closes the browser after making the payment or Internet goes down for the user. We recoincile the subscriptions by communicating with the payment gateways with the help of webhooks. Go to Webhooks section in Juspay settings, Update the Authentication section with webhook username and webhook password in your Accesstype dashboard under payment gateways, Juspay section.
  Update the version to <code>2018-10-25</code>.
  Update the webhook url to webhook url present in Accesstype dashboard under payment gateways, Juspay section.</p>

<p>User Flow:
- User goes to story page or wherever Juspay has to be triggered. Then user clicks a button for example &quot;Pay with Juspay&quot;.
- Then a pop up will appear with iFrame of Juspay loaded.
- Before the pop-up loads, Accesstype JS will create an event on the page where <code>Pay with Juspay</code> is present and will listen to the pop up.
- Once the User completes the payment, The iFrame will redirect to an URL which is specified by you in the Juspay dashboard.</p>

<p>You need to make sure that the below code block is present in the redirect URL</p>
<pre class="highlight plaintext"><code>  (function() {
    var queryParams = window.location.search
    if( queryParams.includes('signature') &amp;&amp;
        queryParams.includes('signature_algorithm') &amp;&amp;
        queryParams.includes('order_id') &amp;&amp;
        queryParams.includes('status')
      ) {
      window.opener.postMessage(queryParams, "*");
    }
  })();
</code></pre>
<p>In the page, where AccessType is loaded, when the user clicks Pay with Juspay.</p>

<p>You can pass optional parameters to juspay payment gateway depending on the payment gateways you want juspay to render.</p>
<pre class="highlight plaintext"><code>const subscriptionParams = {
  "type": "standard",
  "plan": {
    "id": "1",
    "price_cents": "29900",
    "price_currency": "INR",
    "title": "This is the stuff"
  },
  "payment": {
    "payment_type": "juspay",
    "amount_cents": "29900",
    "amount_currency": "INR"
  },
  "metadata": {
    "billing_address_first_name": "Juspay",
    "billing_address_last_name": "Technologies",
    "billing_address_line1": "Girija Building",
    "billing_address_line2": "Ganapathi Temple Road",
    "billing_address_line3": "8th Block, Koramangala",
    "billing_address_city": "Bengaluru",
    "billing_address_state": "Karnataka",
    "billing_address_country": "India",
    "billing_address_postal_code": "560095",
    "billing_address_phone": "9988775566",
    "billing_address_country_code_iso": "IND",
    "shipping_address_first_name": "Juspay",
    "shipping_address_last_name": "Technologies",
    "shipping_address_line1": "Girija Building",
    "shipping_address_line2": "Ganapathi Temple Road",
    "shipping_address_line3": "8th Block, Koramangala",
    "shipping_address_city": "Bengaluru",
    "shipping_address_state": "Karnataka",
    "shipping_address_postal_code": "560095",
    "shipping_address_phone": "9962881912",
    "shipping_address_country_code_iso": "IND",
    "shipping_address_country": "India"
  },
  "juspay": {
    "window_config": {
      // this value can be either "mobile" or "web", when not sent, web is considered to be default
      "type": "mobile"
    }
  }
}
AccessType.getPaymentOptions().then((paymentOptions) =&gt; paymentOptions.juspay.proceed(subscriptionParams
)).then((response) =&gt; {
  // add your additional functionality like call google analytics
  response.proceed(subscriptionParams).then((subscription) =&gt; {// returns a subscription }, (error) =&gt; {// handle error});
})

</code></pre>
<p>You can customize the juspay iframe popup by passing a few key value pairs object inside <code>window_config</code> under <code>juspay</code> key. The layout of the iframe content can be defined by passing <code>type</code> to the <code>window_config</code> object.</p>

<p>If the <code>type</code> is not passed to the <code>window_config</code>, by default, the type of iframe content will be <code>web</code>.</p>

<p>The whole <code>juspay</code> key is optional for the above <code>subscriptionParams</code> object.</p>
<h3 id='razorpay-recurring-integration'>Razorpay Recurring Integration</h3>
<p>For a plan that is set as recurring in Accesstype, <code>subscriptionParams.payment.payment_type</code> needs to be <code>razorpay_recurring</code>.</p>
<h3 id='table-of-contents'>Table of Contents</h3>
<ul>
<li>  <a href="#accesstype">AccessType</a>

<ul>
<li>  <a href="#version">version</a></li>
<li>  <a href="#init">init</a>

<ul>
<li>  <a href="#parameters">Parameters</a></li>
</ul></li>
<li>  <a href="#setuser">setUser</a>

<ul>
<li>  <a href="#parameters-1">Parameters</a></li>
</ul></li>
<li>  <a href="#unsetuser">unsetUser</a></li>
<li>  <a href="#getpaymentoptions">getPaymentOptions</a>

<ul>
<li>  <a href="#parameters-2">Parameters</a></li>
</ul></li>
<li>  <a href="#getassetplans">getAssetPlans</a>

<ul>
<li>  <a href="#parameters-3">Parameters</a></li>
</ul></li>
<li>  <a href="#getsubscriptionplans">getSubscriptionPlans</a></li>
<li>  <a href="#hasaccess">hasAccess</a>

<ul>
<li>  <a href="#parameters-4">Parameters</a></li>
</ul></li>
<li>  <a href="#isassetaccessible">isAssetAccessible</a>

<ul>
<li>  <a href="#parameters-5">Parameters</a></li>
</ul></li>
<li>  <a href="#pingbackassetaccess">pingbackAssetAccess</a>

<ul>
<li>  <a href="#parameters-6">Parameters</a></li>
</ul></li>
<li>  <a href="#purchase">purchase</a>

<ul>
<li>  <a href="#parameters-7">Parameters</a></li>
</ul></li>
<li>  <a href="#validatecoupon">validateCoupon</a>

<ul>
<li>  <a href="#parameters-8">Parameters</a></li>
</ul></li>
<li>  <a href="#validatevoucher">validateVoucher</a>

<ul>
<li>  <a href="#parameters-9">Parameters</a></li>
</ul></li>
<li>  <a href="#getsubscriptions">getSubscriptions</a></li>
<li>  <a href="#updatesubscription">updateSubscription</a>

<ul>
<li>  <a href="#parameters-10">Parameters</a></li>
</ul></li>
<li>  <a href="#cancelsubscription">cancelSubscription</a>

<ul>
<li>  <a href="#parameters-11">Parameters</a></li>
</ul></li>
<li>  <a href="#getassets">getAssets</a></li>
<li>  <a href="#getrewards">getRewards</a></li>
<li>  <a href="#resetwallets">resetWallets</a></li>
<li>  <a href="#downloadinvoice">downloadInvoice</a>

<ul>
<li>  <a href="#parameters-12">Parameters</a></li>
</ul></li>
<li>  <a href="#isprivatemode">isPrivateMode</a></li>
<li>  <a href="#getreferralvoucher">getReferralVoucher</a></li>
</ul></li>
<li>  <a href="#durationunit">DurationUnit</a></li>
<li>  <a href="#subscriptiontype">SubscriptionType</a></li>
<li>  <a href="#assettype">AssetType</a></li>
<li>  <a href="#paymenttype">PaymentType</a></li>
<li>  <a href="#environment">Environment</a></li>
<li>  <a href="#user">User</a>

<ul>
<li>  <a href="#properties">Properties</a></li>
</ul></li>
<li>  <a href="#subscriptionplan">SubscriptionPlan</a>

<ul>
<li>  <a href="#properties-1">Properties</a></li>
</ul></li>
<li>  <a href="#subscriptionasset">SubscriptionAsset</a>

<ul>
<li>  <a href="#properties-2">Properties</a></li>
</ul></li>
<li>  <a href="#paymentparams">PaymentParams</a>

<ul>
<li>  <a href="#properties-3">Properties</a></li>
</ul></li>
<li>  <a href="#subscriptionparams">SubscriptionParams</a>

<ul>
<li>  <a href="#properties-4">Properties</a></li>
</ul></li>
<li>  <a href="#subscriptionmetadata">SubscriptionMetadata</a>

<ul>
<li>  <a href="#properties-5">Properties</a></li>
</ul></li>
<li>  <a href="#initconfig">InitConfig</a>

<ul>
<li>  <a href="#properties-6">Properties</a></li>
</ul></li>
<li>  <a href="#purchaseableasset">PurchaseableAsset</a>

<ul>
<li>  <a href="#properties-7">Properties</a></li>
</ul></li>
<li>  <a href="#paymentoption">PaymentOption</a>

<ul>
<li>  <a href="#properties-8">Properties</a></li>
</ul></li>
<li>  <a href="#paymentoptions">PaymentOptions</a></li>
<li>  <a href="#error">Error</a>

<ul>
<li>  <a href="#properties-9">Properties</a></li>
</ul></li>
<li>  <a href="#couponvalidationrequest">CouponValidationRequest</a>

<ul>
<li>  <a href="#properties-10">Properties</a></li>
</ul></li>
<li>  <a href="#vouchervalidationrequest">VoucherValidationRequest</a>

<ul>
<li>  <a href="#properties-11">Properties</a></li>
</ul></li>
<li>  <a href="#discountdetails">DiscountDetails</a>

<ul>
<li>  <a href="#properties-12">Properties</a></li>
</ul></li>
<li>  <a href="#couponvalidationresponse">CouponValidationResponse</a></li>
<li>  <a href="#assetattributes">AssetAttributes</a>

<ul>
<li>  <a href="#properties-13">Properties</a></li>
</ul></li>
<li>  <a href="#asset">Asset</a>

<ul>
<li>  <a href="#properties-14">Properties</a></li>
</ul></li>
<li>  <a href="#meter">Meter</a>

<ul>
<li>  <a href="#properties-15">Properties</a></li>
</ul></li>
<li>  <a href="#assetaccess">AssetAccess</a>

<ul>
<li>  <a href="#properties-16">Properties</a></li>
</ul></li>
</ul>
<h2 id='accesstype'>AccessType</h2>
<p>Available as a global variable on loading accesstype.js</p>
<h3 id='version'>version</h3>
<p>Returns version of the javascript</p>
<h3 id='init'>init</h3>
<p>Initializes AccessTypeJS with publisher specific configuration.
This is an internal method and will be invoked as part of script initialization in Access Type JS script itself</p>
<h4 id='parameters'>Parameters</h4>
<ul>
<li>  <code>config</code> <strong><a href="#initconfig">InitConfig</a></strong> </li>
</ul>
<h3 id='setuser'>setUser</h3>
<p>Set the user context immediately after user logs in.</p>
<h4 id='parameters-2'>Parameters</h4>
<ul>
<li>  <code>user</code> <strong><a href="#user">User</a></strong> </li>
</ul>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong> </p>
<h3 id='unsetuser'>unsetUser</h3>
<p>Unset user context when user logs off</p>

<p>Returns <strong>void</strong> </p>
<h3 id='getpaymentoptions'>getPaymentOptions</h3>
<p>Returns payment options available for the given user for a given transaction amount
Payable amount has to be sent as transactionAmountCents, it&#39;s generally the price_cents of plan
discounted_price_cents from discount_details has to be sent as transactionAmountCents if a coupon code is applied.
subscriptionPlan object can be sent as second parameter to return only the payment gateways the plan supports. Both parameters
are optional.</p>
<h4 id='parameters-3'>Parameters</h4>
<ul>
<li>  <code>transactionAmountCents</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>?</strong> </li>
<li>  <code>subscriptionPlan</code> <strong><a href="#subscriptionplan">SubscriptionPlan</a>?</strong> </li>
</ul>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="#paymentoptions">PaymentOptions</a>&gt;</strong> </p>
<h3 id='getassetplans'>getAssetPlans</h3>
<p>Returns subscription plans for given param</p>
<h4 id='parameters-4'>Parameters</h4>
<ul>
<li>  <code>asset</code> <strong><a href="#purchaseableasset">PurchaseableAsset</a></strong> </li>
</ul>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="#subscriptionplan">SubscriptionPlan</a>&gt;&gt;</strong> </p>
<h3 id='getsubscriptionplans'>getSubscriptionPlans</h3>
<p>Returns list of subscription plans across all subscription groups</p>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="#subscriptionplan">SubscriptionPlan</a>&gt;&gt;</strong> </p>
<h3 id='hasaccess'>hasAccess</h3>
<p>Deprecated. Returns if user has access to story id</p>
<h4 id='parameters-5'>Parameters</h4>
<ul>
<li>  <code>storyId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
</ul>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>&gt;</strong> </p>
<h3 id='isassetaccessible'>isAssetAccessible</h3>
<p>Returns if the user has access to an asset or not, along with its reason. It makes use thinmint cookie for identifying the user for server side metering.</p>
<h4 id='parameters-6'>Parameters</h4>
<ul>
<li>  <code>asset</code> <strong><a href="#purchaseableasset">PurchaseableAsset</a></strong> </li>
<li>  <code>disableMeter</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?</strong> </li>
</ul>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong> </p>
<h3 id='pingbackassetaccess'>pingbackAssetAccess</h3>
<p>To be used for updating the meter after asset is accessed. It makes use of thinmint cookie for identifying the user</p>
<h4 id='parameters-7'>Parameters</h4>
<ul>
<li>  <code>asset</code> <strong><a href="#purchaseableasset">PurchaseableAsset</a></strong> </li>
<li>  <code>accessGrant</code> <strong>any</strong> </li>
</ul>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="#assetaccess">AssetAccess</a>&gt;</strong> </p>
<h3 id='purchase'>purchase</h3>
<p>Create subscription independently without using the callbacks in getPaymentOptions.
Useful for integrating with payment options that AccessTypeJS does not have first class support for</p>
<h4 id='parameters-8'>Parameters</h4>
<ul>
<li>  <code>subscriptionParams</code> <strong><a href="#subscriptionparams">SubscriptionParams</a></strong> </li>
</ul>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong> </p>
<h3 id='validatecoupon'>validateCoupon</h3>
<p>Validate coupon with plan</p>
<h4 id='parameters-9'>Parameters</h4>
<ul>
<li>  <code>params</code> <strong><a href="#couponvalidationrequest">CouponValidationRequest</a></strong> </li>
</ul>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="#couponvalidationresponse">CouponValidationResponse</a>&gt;</strong> </p>
<h3 id='validatevoucher'>validateVoucher</h3>
<p>Validate voucher with plan</p>
<h4 id='parameters-10'>Parameters</h4>
<ul>
<li>  <code>params</code> <strong><a href="#vouchervalidationrequest">VoucherValidationRequest</a></strong> </li>
</ul>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;<a href="#vouchervalidationrequest">VoucherValidationRequest</a>&gt;</strong> </p>
<h3 id='getsubscriptions'>getSubscriptions</h3>
<p>Get all subscriptions for a user</p>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong> </p>
<h3 id='updatesubscription'>updateSubscription</h3>
<p>update metadata for a subscription</p>
<h4 id='parameters-11'>Parameters</h4>
<ul>
<li>  <code>subscriptionId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> </li>
<li>  <code>updateParams</code> <strong><a href="#subscriptionmetadata">SubscriptionMetadata</a></strong> </li>
</ul>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong> </p>
<h3 id='cancelsubscription'>cancelSubscription</h3>
<p>cancel a subscription</p>
<h4 id='parameters-12'>Parameters</h4>
<ul>
<li>  <code>subscriptionId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> </li>
</ul>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong> </p>
<h3 id='getassets'>getAssets</h3>
<p>Get all assets accessible to a user</p>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong> </p>
<h3 id='getrewards'>getRewards</h3>
<p>Get all rewards for a user</p>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong> </p>
<h3 id='resetwallets'>resetWallets</h3>
<p>Reset user wallets
For e.g. when user has changed their linked mobile number</p>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong> </p>
<h3 id='downloadinvoice'>downloadInvoice</h3>
<p>Download Invoice for a subscription</p>
<h4 id='parameters-13'>Parameters</h4>
<ul>
<li>  <code>subscriptionId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> </li>
<li>  <code>invoiceId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> </li>
</ul>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong> </p>
<h3 id='isprivatemode'>isPrivateMode</h3>
<p>Check if browser is in private mode</p>
<h3 id='getreferralvoucher'>getReferralVoucher</h3>
<p>Get Referral code for a user</p>

<p>Returns <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong> </p>
<h2 id='durationunit'>DurationUnit</h2>
<p>Represents duration unit</p>

<p>Type: (<code>&quot;months&quot;</code> | <code>&quot;weeks&quot;</code> | <code>&quot;years&quot;</code>)</p>
<h2 id='subscriptiontype'>SubscriptionType</h2>
<p>Represents valid subscription types</p>

<p>Type: (<code>&quot;standard&quot;</code> | <code>&quot;dynamic_asset&quot;</code>)</p>
<h2 id='assettype'>AssetType</h2>
<p>Represents supported asset type</p>

<p>Type: <code>&quot;story&quot;</code></p>
<h2 id='paymenttype'>PaymentType</h2>
<p>Represents supported payment types</p>

<p>Type: (<code>&quot;razorpay&quot;</code> | <code>&quot;simpl&quot;</code> | <code>&quot;paytm_auto_debit&quot;</code> | <code>&quot;juspay&quot;</code> | <code>&quot;stripe&quot;</code>)</p>
<h2 id='environment'>Environment</h2>
<p>Represents environment</p>

<p>Type: (<code>&quot;production&quot;</code> | <code>&quot;sandbox&quot;</code>)</p>
<h2 id='user'>User</h2>
<p>Represents a user</p>

<p>Type: {name: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, emailAddress: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, mobileNumber: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, isLoggedIn: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?}</p>
<h3 id='properties'>Properties</h3>
<ul>
<li>  <code>name</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>emailAddress</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>mobileNumber</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>isLoggedIn</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>?</strong> </li>
</ul>
<h2 id='subscriptionplan'>SubscriptionPlan</h2>
<p>Represents a subscription plan</p>

<p>Type: {id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, title: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, description: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, price_cents: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, price_currency: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, duration_length: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, duration_unit: <a href="#durationunit">DurationUnit</a>, supported_payment_providers: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;?}</p>
<h3 id='properties-2'>Properties</h3>
<ul>
<li>  <code>id</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>title</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong> </li>
<li>  <code>description</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong> </li>
<li>  <code>price_cents</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> </li>
<li>  <code>price_currency</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>duration_length</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> </li>
<li>  <code>duration_unit</code> <strong><a href="#durationunit">DurationUnit</a></strong> </li>
<li>  <code>supported_payment_providers</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>&gt;?</strong> </li>
</ul>
<h2 id='subscriptionasset'>SubscriptionAsset</h2>
<p>Represents an Asset</p>

<p>Type: {id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, title: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, slug: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>}</p>
<h3 id='properties-3'>Properties</h3>
<ul>
<li>  <code>id</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>title</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>slug</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
</ul>
<h2 id='paymentparams'>PaymentParams</h2>
<p>Represents payment request params</p>

<p>Type: {payment_type: <a href="#paymenttype">PaymentType</a>, amount_cents: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, amount_currency: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>}</p>
<h3 id='properties-4'>Properties</h3>
<ul>
<li>  <code>payment_type</code> <strong><a href="#paymenttype">PaymentType</a></strong> </li>
<li>  <code>amount_cents</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>amount_currency</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
</ul>
<h2 id='subscriptionparams'>SubscriptionParams</h2>
<p>Represents SubscriptionParams which encapsulates the parameters required to make a subscription</p>

<p>Type: {type: <a href="#subscriptiontype">SubscriptionType</a>, plan: <a href="#subscriptionplan">SubscriptionPlan</a>, payment: <a href="#paymentparams">PaymentParams</a>, assets: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="#subscriptionasset">SubscriptionAsset</a>&gt;, coupon_code: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?, options: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?}</p>
<h3 id='properties-5'>Properties</h3>
<ul>
<li>  <code>type</code> <strong><a href="#subscriptiontype">SubscriptionType</a></strong> </li>
<li>  <code>plan</code> <strong><a href="#subscriptionplan">SubscriptionPlan</a></strong> </li>
<li>  <code>payment</code> <strong><a href="#paymentparams">PaymentParams</a></strong> </li>
<li>  <code>assets</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a>&lt;<a href="#subscriptionasset">SubscriptionAsset</a>&gt;</strong> </li>
<li>  <code>coupon_code</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>?</strong> </li>
<li>  <code>options</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>?</strong> </li>
</ul>
<h2 id='subscriptionmetadata'>SubscriptionMetadata</h2>
<p>Represents metadata fields required to be updated</p>

<p>Type: {metadata: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a>}</p>
<h3 id='properties-6'>Properties</h3>
<ul>
<li>  <code>metadata</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></strong> </li>
</ul>
<h2 id='initconfig'>InitConfig</h2>
<p>Represents InitConfig which encapsulates initialization params.
Used internally only.</p>

<p>Type: {accesstype_host: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, account_key: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, account_name: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, payment_providers: {}, env: <a href="#environment">Environment</a>}</p>
<h3 id='properties-7'>Properties</h3>
<ul>
<li>  <code>accesstype_host</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>account_key</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>account_name</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>payment_providers</code> <strong>{}</strong> </li>
<li>  <code>env</code> <strong><a href="#environment">Environment</a></strong> </li>
</ul>
<h2 id='purchaseableasset'>PurchaseableAsset</h2>
<p>Represent a purchaseable asset</p>

<p>Type: {id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, type: <a href="#assettype">AssetType</a>}</p>
<h3 id='properties-8'>Properties</h3>
<ul>
<li>  <code>id</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>type</code> <strong><a href="#assettype">AssetType</a></strong> </li>
</ul>
<h2 id='paymentoption'>PaymentOption</h2>
<p>Represents a payment option</p>

<p>For simpl, possible values for action = &#39;link&#39; | &#39;pay&#39;</p>

<p>For razorpay, possible values for action = &#39;pay&#39;</p>

<p>When action is &#39;pay&#39;, proceed(params: SubscriptionParams)</p>

<p>When action is &#39;link&#39;, proceed()</p>

<p>Type: {action: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, proceed: function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;}</p>
<h3 id='properties-9'>Properties</h3>
<ul>
<li>  <code>action</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>proceed</code> <strong>function (): <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a>&lt;any&gt;</strong> </li>
</ul>
<h2 id='paymentoptions'>PaymentOptions</h2>
<p>Represents payment options for current user with this publisher</p>

<p>Type: {}</p>
<h2 id='error'>Error</h2>
<p>Represents error response</p>

<p>Type: {code: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, message: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>}</p>
<h3 id='properties-10'>Properties</h3>
<ul>
<li>  <code>code</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>message</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
</ul>
<h2 id='couponvalidationrequest'>CouponValidationRequest</h2>
<p>Represents a coupon validation request</p>

<p>Type: {subscriptionPlanId: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, couponCode: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>}</p>
<h3 id='properties-11'>Properties</h3>
<ul>
<li>  <code>subscriptionPlanId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>couponCode</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
</ul>
<h2 id='vouchervalidationrequest'>VoucherValidationRequest</h2>
<p>Represents a voucher validation request</p>

<p>Type: {subscriptionPlanId: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, voucher: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>}</p>
<h3 id='properties-12'>Properties</h3>
<ul>
<li>  <code>subscriptionPlanId</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>voucher</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
</ul>
<h2 id='discountdetails'>DiscountDetails</h2>
<p>Represents coupon discount</p>

<p>Type: {code: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, discount_type: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, title: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, value: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, discounted_price_cents: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, price_cents: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, price_currency: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>}</p>
<h3 id='properties-13'>Properties</h3>
<ul>
<li>  <code>code</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>discount_type</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>title</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>value</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> </li>
<li>  <code>discounted_price_cents</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> </li>
<li>  <code>price_cents</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> </li>
<li>  <code>price_currency</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
</ul>
<h2 id='couponvalidationresponse'>CouponValidationResponse</h2>
<p>Represents coupon validation response</p>
<h2 id='assetattributes'>AssetAttributes</h2>
<p>Represents Asset Attributes (e.g. story attributes)</p>

<p>Type: {accessLevel: AccessLevel, accessLevelValue: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>?}</p>
<h3 id='properties-14'>Properties</h3>
<ul>
<li>  <code>accessLevel</code> <strong>AccessLevel</strong> </li>
<li>  <code>accessLevelValue</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>?</strong> </li>
</ul>
<h2 id='asset'>Asset</h2>
<p>Represents an Asset</p>

<p>Type: {id: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a>, type: <a href="#assettype">AssetType</a>, attributes: <a href="#assetattributes">AssetAttributes</a>}</p>
<h3 id='properties-15'>Properties</h3>
<ul>
<li>  <code>id</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></strong> </li>
<li>  <code>type</code> <strong><a href="#assettype">AssetType</a></strong> </li>
<li>  <code>attributes</code> <strong><a href="#assetattributes">AssetAttributes</a></strong> </li>
</ul>
<h2 id='meter'>Meter</h2>
<p>Represents paywall meter counts</p>

<p>Type: {consumed: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>, total: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a>}</p>
<h3 id='properties-16'>Properties</h3>
<ul>
<li>  <code>consumed</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> </li>
<li>  <code>total</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number">number</a></strong> </li>
</ul>
<h2 id='assetaccess'>AssetAccess</h2>
<p>Represents access of an Asset</p>

<p>Type: {hasAccess: <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a>, accessType: AccessTypeEnum?, meter: <a href="#meter">Meter</a>?}</p>
<h3 id='properties-17'>Properties</h3>
<ul>
<li>  <code>hasAccess</code> <strong><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean">boolean</a></strong> </li>
<li>  <code>accessType</code> <strong>AccessTypeEnum?</strong> </li>
<li>  <code>meter</code> <strong><a href="#meter">Meter</a>?</strong> </li>
</ul>
<h1 id='subscriber-identities'>Subscriber Identities</h1>
<p>A subscriber is identified by a pair of a provider and an identity (such as [email,dev@quintype.com], or [facebook, fb-id]). A subscriber can have many identities. A provider is an external system. It can be one of [email, quintype, facebook, twitter].</p>

<p>Most APIs will accept the primary identity via URL parameters, and will also accept query parameters <code>alternate_provider</code> and <code>alternate_identity</code>, which will be used in case the user is not found at the primary identity.</p>
<h2 id='list-subscriber-identities-for-a-user'>LIST Subscriber Identities for a user</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriber_identities.json

</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"subscriber_identities"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"provider"</span>: <span class="s2">"email"</span>,
      <span class="s2">"value"</span>: <span class="s2">"deepak@gmail.com"</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">"provider"</span>: <span class="s2">"quintype"</span>,
      <span class="s2">"value"</span>: <span class="s2">"8759"</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p>This API will list out all the identities for a user.</p>
<h2 id='post-create-a-subscriber-identity-for-a-user'>POST Create a Subscriber Identity for a user</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriber_identities.json -d <span class="s1">'{
  "subscriber_identity:" {
    "provider": "email",
    "value": "asim2@gmail.com"
  }
}'</span>

<span class="o">{</span>
<span class="s2">"subscriber_identities"</span>:[<span class="o">{</span>
    <span class="s2">"provider"</span>:<span class="s2">"email"</span>,
    <span class="s2">"value"</span>:<span class="s2">"asim2@gmail.com"</span>
  <span class="o">}</span>,
  <span class="o">{</span>
    <span class="s2">"provider"</span>:<span class="s2">"email"</span>,
    <span class="s2">"value"</span>:<span class="s2">"asim@quintype.com"</span>
  <span class="o">}]</span>
<span class="o">}</span>
</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>This API can be used to add an Identity for an existing subscriber</p>
<h1 id='subscription-groups'>Subscription Groups</h1><h2 id='list-all-subscription-groups'>LIST all Subscription Groups</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;your-auth-token&gt;"</span> https://www.accesstype.com/api/v1/subscription_groups.json

</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"subscription_groups"</span>: <span class="o">[{</span>
    <span class="s2">"id"</span>: 25,
    <span class="s2">"account_id"</span>: 2,
    <span class="s2">"name"</span>: <span class="s2">"print"</span>,
    <span class="s2">"description"</span>: <span class="s2">"Digital + Print"</span>,
    <span class="s2">"assets"</span>: <span class="o">[{</span>
       <span class="s2">"id"</span>:5,
       <span class="s2">"asset_category_id"</span>:1,
       <span class="s2">"metadata"</span>:<span class="o">{}</span>,
       <span class="s2">"title"</span>:<span class="s2">"public"</span>,
       <span class="s2">"type"</span>:<span class="s2">"site"</span>
     <span class="o">}]</span>,
    <span class="s2">"subscription_type"</span>: <span class="s2">"individual"</span>,
    <span class="s2">"public"</span>: <span class="nb">true</span>,
    <span class="s2">"created_at"</span>: <span class="s2">"2017-09-04T09:05:06.035Z"</span>,
    <span class="s2">"updated_at"</span>: <span class="s2">"2017-09-07T10:21:21.109Z"</span>,
    <span class="s2">"deleted_at"</span>: null,
    <span class="s2">"preferred_identity_provider"</span>: <span class="s2">"email"</span>,
    <span class="s2">"metadata_fields"</span>: <span class="o">[</span>
      <span class="s2">"full-name"</span>,
      <span class="s2">"email"</span>,
      <span class="s2">"mobile-or-contact-number"</span>,
      <span class="s2">"street-or-apartment"</span>,
      <span class="s2">"area-or-locality"</span>,
      <span class="s2">"city-or-village-and-state"</span>,
      <span class="s2">"pin-code"</span>,
      <span class="s2">"country"</span>
    <span class="o">]</span>,
    <span class="s2">"subscription_plans"</span>: <span class="o">[{</span>
      <span class="s2">"id"</span>: 23,
      <span class="s2">"subscription_group_id"</span>: 25,
      <span class="s2">"duration_length"</span>: 3,
      <span class="s2">"price_cents"</span>: 34900,
      <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>,
      <span class="s2">"additional_assets"</span>: <span class="o">[]</span>,
      <span class="s2">"created_at"</span>: <span class="s2">"2017-09-04T09:05:06.047Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2017-09-04T09:05:06.047Z"</span>,
      <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>,
      <span class="s2">"description"</span>: null,
      <span class="s2">"title"</span>: <span class="s2">"print-3"</span>,
      <span class="s2">"max_trial_period_length"</span>: null,
      <span class="s2">"max_trial_period_unit"</span>: null,
      <span class="s2">"recurring"</span>: <span class="nb">false</span>,
      <span class="s2">"metadata"</span>: <span class="o">{}</span>
    <span class="o">}]</span>
  <span class="o">}]</span>
<span class="o">}</span>
</code></pre>
<p>This API will list out all public subscription groups</p>
<h2 id='get-a-subscription-group'>GET a Subscription Group</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;your-auth-token&gt;"</span> https://www.accesstype.com/api/v1/subscription_groups/&lt;group-id&gt;.json

</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"subscription_group"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 25,
    <span class="s2">"account_id"</span>: 2,
    <span class="s2">"name"</span>: <span class="s2">"print"</span>,
    <span class="s2">"description"</span>: <span class="s2">"Digital + Print"</span>,
    <span class="s2">"assets"</span>: <span class="o">[{</span>
       <span class="s2">"id"</span>:5,
       <span class="s2">"asset_category_id"</span>:1,
       <span class="s2">"metadata"</span>:<span class="o">{}</span>,
       <span class="s2">"title"</span>:<span class="s2">"public"</span>,
       <span class="s2">"type"</span>:<span class="s2">"site"</span>
     <span class="o">}]</span>,
    <span class="s2">"subscription_type"</span>: <span class="s2">"individual"</span>,
    <span class="s2">"public"</span>: <span class="nb">true</span>,
    <span class="s2">"created_at"</span>: <span class="s2">"2017-09-04T09:05:06.035Z"</span>,
    <span class="s2">"updated_at"</span>: <span class="s2">"2017-09-07T10:21:21.109Z"</span>,
    <span class="s2">"deleted_at"</span>: null,
    <span class="s2">"preferred_identity_provider"</span>: <span class="s2">"email"</span>,
    <span class="s2">"metadata_fields"</span>: <span class="o">[</span>
      <span class="s2">"full-name"</span>,
      <span class="s2">"email"</span>,
      <span class="s2">"mobile-or-contact-number"</span>,
      <span class="s2">"street-or-apartment"</span>,
      <span class="s2">"area-or-locality"</span>,
      <span class="s2">"city-or-village-and-state"</span>,
      <span class="s2">"pin-code"</span>,
      <span class="s2">"country"</span>
    <span class="o">]</span>,
    <span class="s2">"subscription_plans"</span>: <span class="o">[{</span>
      <span class="s2">"id"</span>: 23,
      <span class="s2">"subscription_group_id"</span>: 25,
      <span class="s2">"duration_length"</span>: 3,
      <span class="s2">"price_cents"</span>: 34900,
      <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>,
      <span class="s2">"additional_assets"</span>: <span class="o">[]</span>,
      <span class="s2">"created_at"</span>: <span class="s2">"2017-09-04T09:05:06.047Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2017-09-04T09:05:06.047Z"</span>,
      <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>,
      <span class="s2">"description"</span>: null,
      <span class="s2">"title"</span>: <span class="s2">"print-3"</span>,
      <span class="s2">"max_trial_period_length"</span>: null,
      <span class="s2">"max_trial_period_unit"</span>: null,
      <span class="s2">"recurring"</span>: <span class="nb">false</span>,
      <span class="s2">"metadata"</span>: <span class="o">{}</span>
    <span class="o">}]</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>This will fetch a subscription, either a public or private one</p>
<h1 id='subscriptions'>Subscriptions</h1>
<p>Subscription plan and Payment information is required to create a subscription for a user.
<code>payment-type</code> can be one of <code>razorpay</code>, <code>razorpay_recurring</code>, <code>androidpay</code>, <code>androidpay_recurring</code>.
It can also be set to <code>manual</code> to create subscriptions not involving payments.</p>
<h2 id='list-subscriptions-for-a-user'>LIST Subscriptions for a user</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriptions.json


</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"subscriptions"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"subscriber"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: 1087,
        <span class="s2">"name"</span>: null,
        <span class="s2">"created_at"</span>: <span class="s2">"2019-08-14T09:43:57.557Z"</span>,
        <span class="s2">"updated_at"</span>: <span class="s2">"2019-08-14T09:43:57.557Z"</span>,
        <span class="s2">"metadata"</span>: null,
        <span class="s2">"cumulative_end_timestamps"</span>: <span class="o">{</span>
            <span class="s2">"standard_subscriptions_cumulative_end_timestamp"</span>: <span class="s2">"2019-09-14T09:43:57.801Z"</span>,
            <span class="s2">"campaign_subscriptions_cumulative_end_timestamp"</span>: <span class="s2">"2020-04-14T09:45:02.183Z"</span>
        <span class="o">}</span>,
        <span class="s2">"subscriber_identities"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"provider"</span>: <span class="s2">"email"</span>,
                <span class="s2">"value"</span>: <span class="s2">"foo@example.com"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"provider"</span>: <span class="s2">"quintype"</span>,
                <span class="s2">"value"</span>: <span class="s2">"123"</span>
            <span class="o">}</span>
        <span class="o">]</span>
      <span class="o">}</span>,
      <span class="s2">"invoices"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"amount_after_discount_before_tax"</span>: <span class="s2">"122.03"</span>,
          <span class="s2">"amount_currency"</span>: <span class="s2">"INR"</span>,
          <span class="s2">"id"</span>: 990,
          <span class="s2">"invoice_taxes"</span>: <span class="o">{</span>
            <span class="s2">"SGST"</span>: <span class="o">{</span>
              <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
              <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
              <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
            <span class="o">}</span>,
            <span class="s2">"CGST"</span>: <span class="o">{</span>
              <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
              <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
              <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
            <span class="o">}</span>
          <span class="o">}</span>,
          <span class="s2">"amount_cents"</span>: 14400,
          <span class="s2">"base_price"</span>: <span class="s2">"152.54"</span>,
          <span class="s2">"sequenced_invoice_number"</span>: <span class="s2">"BQ/1819/SUB/167"</span>,
          <span class="s2">"discount_details"</span>: <span class="o">{</span>
            <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
            <span class="s2">"discount_percentage"</span>: 20,
            <span class="s2">"discount_amount"</span>: <span class="s2">"30.51"</span>
          <span class="o">}</span>,
          <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.590Z"</span>
        <span class="o">}</span>
      <span class="o">]</span>,
      <span class="s2">"id"</span>: 713,
      <span class="s2">"subscriber_id"</span>: 453,
      <span class="s2">"subscription_plan_id"</span>: 16,
      <span class="s2">"created_at"</span>: <span class="s2">"2017-10-30T10:55:42.201Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2017-10-30T10:55:42.201Z"</span>,
      <span class="s2">"assets"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"metadata"</span>: <span class="o">{}</span>,
          <span class="s2">"title"</span>: <span class="s2">"public"</span>,
          <span class="s2">"type"</span>: <span class="s2">"site"</span>
        <span class="o">}</span>
      <span class="o">]</span>,
      <span class="s2">"start_timestamp"</span>: <span class="s2">"2017-10-30T10:55:42.176Z"</span>,
      <span class="s2">"end_timestamp"</span>: <span class="s2">"2017-11-13T10:55:42.176Z"</span>,
      <span class="s2">"deleted_at"</span>: null,
      <span class="s2">"payment_id"</span>: 668,
      <span class="s2">"metadata"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Sample User"</span>,
        <span class="s2">"Address"</span>: <span class="s2">"Sample add"</span>,
        <span class="s2">"Phone Number"</span>: <span class="s2">"1111111111"</span>
      <span class="o">}</span>,
      <span class="s2">"external_id"</span>: null,
      <span class="s2">"trial_period_length"</span>: null,
      <span class="s2">"trial_period_unit"</span>: null,
      <span class="s2">"coupon_code"</span>: null,
      <span class="s2">"subscription_group_id"</span>: 21,
      <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
        <span class="s2">"provider"</span>: <span class="s2">"email"</span>,
        <span class="s2">"value"</span>: <span class="s2">"sample@gmail.com"</span>
      <span class="o">}</span>,
      <span class="s2">"group_name"</span>: <span class="s2">"Sub Group 1"</span>,
      <span class="s2">"plan_name"</span>: <span class="s2">"Sub Plan 1"</span>,
      <span class="s2">"duration_length"</span>: 2,
      <span class="s2">"duration_unit"</span>: <span class="s2">"weeks"</span>,
      <span class="s2">"subscription_type"</span>: <span class="s2">"individual"</span>,
      <span class="s2">"active"</span>: <span class="nb">true</span>,
      <span class="s2">"payment_amount"</span>: <span class="s2">"0.00"</span>,
      <span class="s2">"payment_type"</span>: <span class="s2">"manual"</span>,
      <span class="s2">"renewable"</span>: <span class="nb">true</span>,
      <span class="s2">"coupon_code_id"</span>: 6,
      <span class="s2">"discount_detail"</span>: <span class="o">{</span>
        <span class="s2">"code"</span>: <span class="s2">"TEST20"</span>,
        <span class="s2">"discount_type"</span>: <span class="s2">"percent"</span>,
        <span class="s2">"title"</span>: <span class="s2">"Test coupon gives 20 percent off"</span>,
        <span class="s2">"value"</span>: 20.0,
        <span class="s2">"discounted_price_cents"</span>: 8000.0,
        <span class="s2">"price_cents"</span>: 10000,
        <span class="s2">"price_currency"</span>: <span class="s2">"USD"</span>
      <span class="o">}</span>,
    <span class="s2">"expires_in_days"</span>: 30
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p>This API will list out all the subscriptions for a user.
In order to get only active subscriptions, param <code>active_only=true</code> can be used.</p>
<h2 id='post-preview-a-subscription'>POST Preview a Subscription</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X POST https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriptions/preview.json -d <span class="s1">'{
    "subscription": {
        "notes": "enter your notes",
        "alternate_provider": "email",
        "alternate_identity": "hey@quintype.com",
        "subscription_type": "standard",
        "subscription_plan_id": 2118,
        "coupon_code": "UAT",
        "payment": {
            "payment_type": "razorpay",
            "amount_cents": 14400,
            "amount_currency": "INR"
        },
        "metadata": {
            "mobile_number": "7639817688"
        }
    },
    "fingerprint": ""
}'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
    <span class="s2">"subscription"</span>: <span class="o">{</span>
        <span class="s2">"subscriber"</span>: <span class="o">{</span>
            <span class="s2">"id"</span>: 1087,
            <span class="s2">"name"</span>: <span class="s1">'foo'</span>,
            <span class="s2">"created_at"</span>: <span class="s2">"2019-08-14T09:43:57.557Z"</span>,
            <span class="s2">"updated_at"</span>: <span class="s2">"2019-08-14T09:43:57.557Z"</span>,
            <span class="s2">"metadata"</span>: null,
            <span class="s2">"cumulative_end_timestamps"</span>: <span class="o">{</span>
                <span class="s2">"standard_subscriptions_cumulative_end_timestamp"</span>: null,
                <span class="s2">"campaign_subscriptions_cumulative_end_timestamp"</span>: null
            <span class="o">}</span>,
            <span class="s2">"subscriber_identities"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"provider"</span>: <span class="s2">"email"</span>,
                    <span class="s2">"value"</span>: <span class="s2">"foo@example.com"</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                    <span class="s2">"provider"</span>: <span class="s2">"quintype"</span>,
                    <span class="s2">"value"</span>: <span class="s2">"123"</span>
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"notes"</span>: <span class="s2">"enter your notes"</span>,
        <span class="s2">"invoices"</span>: <span class="o">[]</span>,
        <span class="s2">"next_payment_due_date"</span>: null,
        <span class="s2">"deleted_at"</span>: null,
        <span class="s2">"campaign_name"</span>: null,
        <span class="s2">"payment_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"campaign_subscription"</span>: <span class="nb">false</span>,
        <span class="s2">"campaign_id"</span>: null,
        <span class="s2">"start_timestamp"</span>: <span class="s2">"2021-08-07T11:28:46.271Z"</span>,
        <span class="s2">"assets"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"Site"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{}</span>,
                <span class="s2">"type"</span>: <span class="s2">"site"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"Monthly magazines"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{}</span>,
                <span class="s2">"type"</span>: <span class="s2">"static"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All exclusive reportage content"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: 400
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All paid stories"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: 300
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All Story"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: <span class="s2">"999"</span>
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"end_timestamp"</span>: <span class="s2">"2021-11-07T11:28:46.271Z"</span>,
        <span class="s2">"payment_amount"</span>: <span class="s2">"144.00"</span>,
        <span class="s2">"discount_detail"</span>: <span class="o">{</span>
            <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
            <span class="s2">"discount_type"</span>: <span class="s2">"percent"</span>,
            <span class="s2">"title"</span>: <span class="s2">"UAT Trial"</span>,
            <span class="s2">"value"</span>: 20,
            <span class="s2">"discounted_price_cents"</span>: 14400,
            <span class="s2">"price_cents"</span>: 18000,
            <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>
        <span class="o">}</span>,
        <span class="s2">"duration_length"</span>: 3,
        <span class="s2">"dynamic_assets"</span>: <span class="o">{}</span>,
        <span class="s2">"trial_period_length"</span>: null,
        <span class="s2">"group_description"</span>: <span class="s2">"Silver + Access to Exclusive Reportage + Monthly round-up magazines"</span>,
        <span class="s2">"renewable"</span>: <span class="nb">false</span>,
        <span class="s2">"subscription_attempt_id"</span>: null,
        <span class="s2">"subscription_group_id"</span>: 2197,
        <span class="s2">"coupon_code"</span>: <span class="s2">"UAT"</span>,
        <span class="s2">"recurring"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_type"</span>: <span class="s2">"preview"</span>,
        <span class="s2">"cancelled"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_token"</span>: null,
        <span class="s2">"updated_at"</span>: null,
        <span class="s2">"coupon_code_id"</span>: 82,
        <span class="s2">"plan_amount_cents"</span>: 18000,
        <span class="s2">"status"</span>: <span class="s2">"pending"</span>,
        <span class="s2">"group_name"</span>: <span class="s2">"Unlimited"</span>,
        <span class="s2">"external_id"</span>: null,
        <span class="s2">"active"</span>: <span class="nb">false</span>,
        <span class="s2">"id"</span>: null,
        <span class="s2">"plan_occurrence"</span>: <span class="s2">"One Time"</span>,
        <span class="s2">"in_grace_period"</span>: <span class="nb">false</span>,
        <span class="s2">"code"</span>: null,
        <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
            <span class="s2">"provider"</span>: <span class="s2">"email"</span>,
            <span class="s2">"value"</span>: <span class="s2">"vamsi@quintype.com"</span>
        <span class="o">}</span>,
        <span class="s2">"plan_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"expired"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_id"</span>: null,
        <span class="s2">"plan_name"</span>: <span class="s2">"3 months"</span>,
        <span class="s2">"subscription_plan_id"</span>: 2118,
        <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>,
        <span class="s2">"trial_period_unit"</span>: null,
        <span class="s2">"subscription_type"</span>: <span class="s2">"standard"</span>,
        <span class="s2">"plan_description"</span>: <span class="s2">"All assets "</span>,
        <span class="s2">"cancelled_at"</span>: null,
        <span class="s2">"metadata"</span>: <span class="o">{</span>
            <span class="s2">"mobile_number"</span>: <span class="s2">"7639817688"</span>
        <span class="o">}</span>,
        <span class="s2">"renewal_reminder_sent_date"</span>: null,
        <span class="s2">"created_at"</span>: null,
        <span class="s2">"subscriber_id"</span>: 9311,
        <span class="s2">"payment_amount_cents"</span>: 14400
    <span class="o">}</span>,
    <span class="s2">"attempt_token"</span>: <span class="s2">"WnwxA2AVrE3xqcDUqrSb3sNm"</span>,
    <span class="s2">"external_reference_id"</span>: null
<span class="o">}</span>
</code></pre>
<p>It returns a preview for a Subscription, without creating a new subscription.
For a successful subscription, it also return an <code>attempt_token</code>.</p>

<p>An <code>attempt_token</code> is the identifier of a subscription attempt. It should be sent back with <a href="#post-create-a-subscription">create subscription</a> api to mark an attempt as success.</p>

<p>This API must be used before accepting payment from a user.</p>

<p>One can pass the value for <code>payment.payment_type</code> as <code>razorpay_recurring</code> when making the preview API call to get <code>external_reference_id</code> and <code>attempt_token</code> in response.</p>
<h2 id='post-create-a-subscription'>POST Create a Subscription</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X POST https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriptions.json -d <span class="s1">'{
    "subscription": {
        "notes": "enter your notes",
        "subscription_type": "standard",
        "subscription_plan_id": 2118,
        "coupon_code": "UAT",
        "payment": {
            "payment_type": "razorpay",
            "amount_cents": 14400,
            "amount_currency": "INR",
            "payment_token": "pay_BWpQWQcLLK3L37"
        },
        "metadata": {
            "mobile_number": "7639817688"
        }
    },
    "alternate_provider": "email",
    "alternate_identity": "hey@quintype.com",
    "attempt_token": "WnwxA2AVrE3xqcDUqrSb3sNm"
}'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
    <span class="s2">"subscription"</span>: <span class="o">{</span>
        <span class="s2">"subscriber"</span>: <span class="o">{</span>
            <span class="s2">"id"</span>: 1087,
            <span class="s2">"name"</span>: <span class="s1">'foo'</span>,
            <span class="s2">"created_at"</span>: <span class="s2">"2019-08-14T09:43:57.557Z"</span>,
            <span class="s2">"updated_at"</span>: <span class="s2">"2019-08-14T09:43:57.557Z"</span>,
            <span class="s2">"metadata"</span>: null,
            <span class="s2">"cumulative_end_timestamps"</span>: <span class="o">{</span>
                <span class="s2">"standard_subscriptions_cumulative_end_timestamp"</span>: <span class="s2">"2019-09-14T09:43:57.801Z"</span>,
                <span class="s2">"campaign_subscriptions_cumulative_end_timestamp"</span>: null
            <span class="o">}</span>,
            <span class="s2">"subscriber_identities"</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">"provider"</span>: <span class="s2">"email"</span>,
                    <span class="s2">"value"</span>: <span class="s2">"foo@example.com"</span>
                <span class="o">}</span>,
                <span class="o">{</span>
                    <span class="s2">"provider"</span>: <span class="s2">"quintype"</span>,
                    <span class="s2">"value"</span>: <span class="s2">"123"</span>
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>,
        <span class="s2">"expires_in_days"</span>: 30,
        <span class="s2">"notes"</span>: <span class="s2">"enter your notes"</span>,
        <span class="s2">"invoices"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"amount_after_discount_before_tax"</span>: <span class="s2">"122.03"</span>,
                <span class="s2">"amount_currency"</span>: <span class="s2">"INR"</span>,
                <span class="s2">"id"</span>: 990,
                <span class="s2">"invoice_taxes"</span>: <span class="o">{</span>
                    <span class="s2">"SGST"</span>: <span class="o">{</span>
                        <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
                        <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
                        <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
                    <span class="o">}</span>,
                    <span class="s2">"CGST"</span>: <span class="o">{</span>
                        <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
                        <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
                        <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"amount_cents"</span>: 14400,
                <span class="s2">"base_price"</span>: <span class="s2">"152.54"</span>,
                <span class="s2">"sequenced_invoice_number"</span>: <span class="s2">"BQ/1819/SUB/167"</span>,
                <span class="s2">"discount_details"</span>: <span class="o">{</span>
                    <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
                    <span class="s2">"discount_percentage"</span>: 20,
                    <span class="s2">"discount_amount"</span>: <span class="s2">"30.51"</span>
                <span class="o">}</span>,
                <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.590Z"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"next_payment_due_date"</span>: null,
        <span class="s2">"deleted_at"</span>: null,
        <span class="s2">"campaign_name"</span>: null,
        <span class="s2">"payment_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"campaign_subscription"</span>: <span class="nb">false</span>,
        <span class="s2">"campaign_id"</span>: null,
        <span class="s2">"start_timestamp"</span>: <span class="s2">"2021-08-07T11:28:46.271Z"</span>,
        <span class="s2">"assets"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"Site"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{}</span>,
                <span class="s2">"type"</span>: <span class="s2">"site"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"Monthly magazines"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{}</span>,
                <span class="s2">"type"</span>: <span class="s2">"static"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All exclusive reportage content"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: 400
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All paid stories"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: 300
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All Story"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: <span class="s2">"999"</span>
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"end_timestamp"</span>: <span class="s2">"2021-11-07T11:28:46.271Z"</span>,
        <span class="s2">"payment_amount"</span>: <span class="s2">"144.00"</span>,
        <span class="s2">"discount_detail"</span>: <span class="o">{</span>
            <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
            <span class="s2">"discount_type"</span>: <span class="s2">"percent"</span>,
            <span class="s2">"title"</span>: <span class="s2">"UAT Trial"</span>,
            <span class="s2">"value"</span>: 20,
            <span class="s2">"discounted_price_cents"</span>: 14400,
            <span class="s2">"price_cents"</span>: 18000,
            <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>
        <span class="o">}</span>,
        <span class="s2">"duration_length"</span>: 3,
        <span class="s2">"dynamic_assets"</span>: <span class="o">{}</span>,
        <span class="s2">"trial_period_length"</span>: null,
        <span class="s2">"group_description"</span>: <span class="s2">"Silver + Access to Exclusive Reportage + Monthly round-up magazines"</span>,
        <span class="s2">"renewable"</span>: <span class="nb">false</span>,
        <span class="s2">"subscription_attempt_id"</span>: 96595,
        <span class="s2">"subscription_group_id"</span>: 2197,
        <span class="s2">"coupon_code"</span>: <span class="s2">"UAT"</span>,
        <span class="s2">"recurring"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_type"</span>: <span class="s2">"razorpay"</span>,
        <span class="s2">"cancelled"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_token"</span>: <span class="s2">"pay_BWpQWQcLLK3L37"</span>,
        <span class="s2">"updated_at"</span>: <span class="s2">"2018-12-12T10:25:48.494Z"</span>,
        <span class="s2">"coupon_code_id"</span>: 82,
        <span class="s2">"plan_amount_cents"</span>: 18000,
        <span class="s2">"status"</span>: <span class="s2">"pending"</span>,
        <span class="s2">"group_name"</span>: <span class="s2">"Unlimited"</span>,
        <span class="s2">"external_id"</span>: null,
        <span class="s2">"active"</span>: <span class="nb">false</span>,
        <span class="s2">"id"</span>: 32405,
        <span class="s2">"plan_occurrence"</span>: <span class="s2">"One Time"</span>,
        <span class="s2">"in_grace_period"</span>: <span class="nb">false</span>,
        <span class="s2">"code"</span>: null,
        <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
            <span class="s2">"provider"</span>: <span class="s2">"quintype"</span>,
            <span class="s2">"value"</span>: <span class="s2">"251933"</span>
        <span class="o">}</span>,
        <span class="s2">"plan_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"expired"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_id"</span>: 32379,
        <span class="s2">"plan_name"</span>: <span class="s2">"3 months"</span>,
        <span class="s2">"subscription_plan_id"</span>: 2118,
        <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>,
        <span class="s2">"trial_period_unit"</span>: null,
        <span class="s2">"subscription_type"</span>: <span class="s2">"standard"</span>,
        <span class="s2">"plan_description"</span>: <span class="s2">"All assets "</span>,
        <span class="s2">"cancelled_at"</span>: null,
        <span class="s2">"metadata"</span>: <span class="o">{</span>
            <span class="s2">"mobile_number"</span>: <span class="s2">"7639817688"</span>
        <span class="o">}</span>,
        <span class="s2">"renewal_reminder_sent_date"</span>: null,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.494Z"</span>,
        <span class="s2">"subscriber_id"</span>: 9311,
        <span class="s2">"payment_amount_cents"</span>: 14400
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>This API can be used to create a subscription.</p>

<p>Here <code>attempt_token</code> is the token received from <a href="#post-preview-a-subscription">preview</a>.</p>

<p>Use <code>campaign_id</code> optional field to create subscription for specific campaign.</p>

<p>It returns a Subscription Object in response</p>
<h2 id='patch-update-attributes'>PATCH update attributes</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -X PATCH -H <span class="s2">"Content-Type: application/json"</span> https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriptions/&lt;id&gt;.json -d <span class="s1">'{
  "subscription": {
    "metadata":  {
        "full-name": "hello-world",
        "email": "hello@quintype.com"
    }
  }
}'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>This API can be used to update the attributes for a subscription of a subscriber</p>
<h2 id='patch-bulk-update-attributes'>PATCH bulk update attributes</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -X PATCH -H <span class="s2">"Content-Type: application/json"</span> https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriptions.json -d <span class="s1">'{
  "metadata":  {
    "full-name": "hello-world",
    "email": "hello@quintype.com"
  }
}'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>This API can be used to update the attributes of <strong>all</strong> active subscriptions of a subscriber</p>
<h2 id='delete-a-subscription'>DELETE a subscription</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -X <span class="s2">"DELETE"</span> -H <span class="s2">"Content-Type: application/json"</span> https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriptions/&lt;subscription-id&gt;.json
</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>This API can be used to delete a subscription(THIS API WILL BE DEPRECATED SOON IN FAVOUR OF CANCEL Subscription API)</p>
<h2 id='cancel-a-subscription'>CANCEL a subscription</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -X <span class="s2">"PUT"</span> -H <span class="s2">"Content-Type: application/json"</span> https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriptions/&lt;subscription-id&gt;/cancel.json
</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>This API can be used to cancel a subscription</p>
<h2 id='post-renew-a-subscription'>POST renew a subscription</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X POST https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriptions/&lt;subscription_id&gt;/renewals.json -d <span class="s1">'{
  "subscription": {
    "coupon_code": "",
    "payment": {
        "payment_type": "razorpay",
        "payment_token": "pay_test_8tNiqdiajurOkj",
        "amount_cents": "99900",
        "amount_currency": "INR"
    }
  },
  "alternate_provider": "email",
  "alternate_identity": "hey@quintype.com"
}'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>This API can be used to renew any renewable subscription.
Subscriptions to recurring-plans are not renewable.
The new subscription starts immediately or at the end of active subscription.</p>

<p>One can use the optional <code>metadata</code> field to set it different from that of the existing subsription. If not passed, it is set to be same as existing subscription.</p>

<p>It returns a Subscription Object in response</p>
<h1 id='recurring-subscriptions'>Recurring Subscriptions</h1>
<p>In order to register a recurring subscription with some providers (such as razorpay), it is mandatory to register a subscription upstream.</p>
<h2 id='post-register-a-recurring-subscription'>POST register a recurring subscription</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -X POST -H <span class="s2">"Content-Type: application/json"</span> https://www.accesstype.com/api/v1/subscription_plans/&lt;subscription-plan-id&gt;/external_subscription_token.json -d <span class="s1">'{
  "type": "razorpay",
  "attempt_token": "fo4bMWjP6N5vtVySNtiAUNBQ"
}'</span>

<span class="o">{</span>
  <span class="s2">"subscription"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: <span class="s2">"sub_8tQNd3qURQJiK5"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p><code>attempt_token</code> is optional param and must be sent if the external subscription is not to start immediately.</p>

<p><strong>NOTE</strong>:- This API will soon be deprecated, as the same can now be achieved by <a href="#post-preview-a-subscription">preview API</a>.</p>
<h2 id='trial-period-for-a-recurring-subscription'>Trial period for a recurring subscription</h2>
<p>Trial period is available for a recurring subscription. In order to create a subscription with trial, you need to enable trial period in the subscription plan.</p>

<p><img src="/images/trial_period.png" title="Accesstype Subscription Plan Enable Trial Period" alt="Accesstype Subscription Plan Enable Trial Period" /></p>

<p>If you create a subscription by a subscription plan which has trial period enabled, only authorization amount of 5 rs will be charged to the customer, which will be refunded. And at the end of trial period duration, first subscription charge will occur.</p>

<p>By default the subscription&#39;s trial period duration is taken from the trial period duration specified in the plan</p>

<p>However you can customize the trial period. You need to send the following keys in the subscription object, if you don&#39;t want the default trial period of the subscription plan</p>

<p><code>&quot;trial_period_length&quot;: 2,
&quot;trial_period_unit&quot;: &quot;weeks&quot;</code></p>

<p>The valid trial period units are <code>days, weeks, months, years</code></p>

<p>Note: The trial period duration in the subscription should be less than or equal to
trial period configured in the subscription plan</p>

<p>If you don&#39;t want to give a trial period for a subscription plan, which has trial period configured. You need to send <code>&quot;trial_period&quot;: false</code> in the subscription object</p>
<h1 id='subscription-gifts'>Subscription Gifts</h1><h2 id='post-create-a-subscription-for-gifting'>POST Create a Subscription for gifting</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X POST https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscription_gifts.json -d <span class="s1">'{
  "name": "Adam",
  "recipient_subscriber": {
    "recipient_identity_provider": "email",
    "recipient_identity": "somefriend@foo.com"
  },
  "subscription": {
    "subscription_plan_id": "11",
    "coupon_code": "",
    "payment": {
        "payment_type": "razorpay",
        "payment_token": "pay_test_8tNiqdiajurOkj",
        "amount_cents": "99900",
        "amount_currency": "INR"
    },
    "metadata":  {
        "full-name": "somefriend",
        "email": "somefriend@foo.com"
    },
    "start_timestamp": "2017-09-21 00:00:00"
  },
  "alternate_provider": "email",
  "alternate_identity": "hey@quintype.com"
}'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>This API can be used to create a subscription and gift it to a <code>recipient_subscriber</code>.
<code>recipient_subscriber</code> details are required.
It returns a Subscription Object in response</p>
<h2 id='list-subscriptions-gifted-by-a-user'>LIST Subscriptions gifted by a user</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscription_gifts.json

</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
 <span class="s2">"subscriptions"</span>:[
  <span class="o">{</span>
     <span class="s2">"id"</span>:713,
     <span class="s2">"subscriber_id"</span>:453,
     <span class="s2">"subscription_plan_id"</span>:16,
     <span class="s2">"created_at"</span>:<span class="s2">"2017-10-30T10:55:42.201Z"</span>,
     <span class="s2">"updated_at"</span>:<span class="s2">"2017-10-30T10:55:42.201Z"</span>,
     <span class="s2">"assets"</span>:[

     <span class="o">]</span>,
     <span class="s2">"start_timestamp"</span>:<span class="s2">"2017-10-30T10:55:42.176Z"</span>,
     <span class="s2">"end_timestamp"</span>:<span class="s2">"2017-11-13T10:55:42.176Z"</span>,
     <span class="s2">"deleted_at"</span>:null,
     <span class="s2">"payment_id"</span>:668,
     <span class="s2">"metadata"</span>:<span class="o">{</span>
        <span class="s2">"Name"</span>:<span class="s2">"Sample User"</span>,
        <span class="s2">"Address"</span>:<span class="s2">"Sample add"</span>,
        <span class="s2">"Phone Number"</span>:<span class="s2">"1111111111"</span>
     <span class="o">}</span>,
     <span class="s2">"external_id"</span>:null,
     <span class="s2">"trial_period_length"</span>:null,
     <span class="s2">"trial_period_unit"</span>:null,
     <span class="s2">"coupon_code"</span>:null,
     <span class="s2">"subscription_group_id"</span>:21,
     <span class="s2">"preferred_identity"</span>:<span class="o">{</span>
        <span class="s2">"provider"</span>:<span class="s2">"email"</span>,
        <span class="s2">"value"</span>:<span class="s2">"sample@gmail.com"</span>
     <span class="o">}</span>,
     <span class="s2">"group_name"</span>:<span class="s2">"Sub Group 1"</span>,
     <span class="s2">"plan_name"</span>:<span class="s2">"Sub Plan 1"</span>,
     <span class="s2">"duration_length"</span>:2,
     <span class="s2">"duration_unit"</span>:<span class="s2">"weeks"</span>,
     <span class="s2">"subscription_type"</span>:<span class="s2">"individual"</span>,
     <span class="s2">"active"</span>:true,
     <span class="s2">"payment_amount"</span>:<span class="s2">"0.00"</span>,
     <span class="s2">"payment_type"</span>:<span class="s2">"manual"</span>,
     <span class="s2">"renewable"</span>: <span class="nb">true</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre><h1 id='campaigns'>Campaigns</h1><h2 id='list-all-campaigns'>LIST all Campaigns</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;your-auth-token&gt;"</span> https://www.accesstype.com/api/v1/campaigns.json
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"campaigns"</span>: <span class="o">[{</span>
    <span class="s2">"id"</span>: 25,
    <span class="s2">"account_id"</span>: 2,
    <span class="s2">"target_amount_cents"</span>: 10000000,
    <span class="s2">"target_amount_currency"</span>: <span class="s2">"INR"</span>,
    <span class="s2">"subscription_group_id"</span>: 1,
    <span class="s2">"name"</span>: <span class="s2">"Life On The Border And The Unheared stories"</span>,
    <span class="s2">"description"</span>: <span class="s2">"Soldiers at the border have become a staple source of news for mainstream media. But how much do we know about life at the border for those who call it home? In one of the villages along the LoC, a crippling disease is preventing people from getting Aadhaar cards."</span>,
    <span class="s2">"created_at"</span>: <span class="s2">"2018-04-09T05:28:22.746Z"</span>,
    <span class="s2">"updated_at"</span>: <span class="s2">"2018-04-09T05:28:22.746Z"</span>,
    <span class="s2">"deleted_at"</span>: null,
    <span class="s2">"goal_reached"</span>: <span class="nb">false</span>,
    <span class="s2">"enabled"</span>: <span class="nb">true</span>,
    <span class="s2">"metadata"</span>: <span class="o">[]</span>,
    <span class="s2">"collected_amount"</span>: <span class="s2">"0.00"</span>,
    <span class="s2">"collected_amount_cents"</span>: 0,
    <span class="s2">"collected_amount_currency"</span>: <span class="s2">"INR"</span>,
    <span class="s2">"collected_amount_percentage"</span>: 0,
    <span class="s2">"target_amount"</span>: <span class="s2">"100000.00"</span>,
    <span class="s2">"subscription_plans"</span>: <span class="o">[{</span>
      <span class="s2">"id"</span>: 10,
      <span class="s2">"subscription_group_id"</span>: 1,
      <span class="s2">"duration_length"</span>: 3,
      <span class="s2">"price_cents"</span>: 34900,
      <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>,
      <span class="s2">"additional_assets"</span>: <span class="o">[]</span>,
      <span class="s2">"created_at"</span>: <span class="s2">"2017-09-04T09:05:06.047Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2017-09-04T09:05:06.047Z"</span>,
      <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>,
      <span class="s2">"description"</span>: null,
      <span class="s2">"title"</span>: <span class="s2">"print-3"</span>,
      <span class="s2">"max_trial_period_length"</span>: null,
      <span class="s2">"max_trial_period_unit"</span>: null,
      <span class="s2">"recurring"</span>: <span class="nb">false</span>,
      <span class="s2">"metadata"</span>: <span class="o">{}</span>,
      <span class="s2">"assets"</span>: <span class="o">[]</span>,
      <span class="s2">"display_assets"</span>: <span class="o">[]</span>
    <span class="o">}]</span>
  <span class="o">}]</span>
<span class="o">}</span>
</code></pre>
<p>This API will list out all campaigns that are set up for the account.</p>
<h2 id='get-a-campaign'>GET a Campaign</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;your-auth-token&gt;"</span> https://www.accesstype.com/api/v1/campaigns/&lt;campaign-id&gt;.json
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"campaign"</span>: <span class="o">{</span>
    <span class="s2">"id"</span>: 1,
    <span class="s2">"target_amount_cents"</span>: 10000000,
    <span class="s2">"target_amount_currency"</span>: <span class="s2">"INR"</span>,
    <span class="s2">"subscription_group_id"</span>: 1,
    <span class="s2">"name"</span>: <span class="s2">"Life On The Border And The Unheared stories"</span>,
    <span class="s2">"description"</span>: <span class="s2">"Soldiers at the border have become a staple source of news for mainstream media. But how much do we know about life at the border for those who call it home? In one of the villages along the LoC, a crippling disease is preventing people from getting Aadhaar cards."</span>,
    <span class="s2">"created_at"</span>: <span class="s2">"2018-04-09T05:28:22.746Z"</span>,
    <span class="s2">"updated_at"</span>: <span class="s2">"2018-04-09T05:28:22.746Z"</span>,
    <span class="s2">"deleted_at"</span>: null,
    <span class="s2">"goal_reached"</span>: <span class="nb">false</span>,
    <span class="s2">"enabled"</span>: <span class="nb">true</span>,
    <span class="s2">"metadata"</span>: <span class="o">[]</span>,
    <span class="s2">"collected_amount"</span>: <span class="s2">"0.00"</span>,
    <span class="s2">"collected_amount_cents"</span>: 0,
    <span class="s2">"collected_amount_currency"</span>: <span class="s2">"INR"</span>,
    <span class="s2">"collected_amount_percentage"</span>: 0,
    <span class="s2">"target_amount"</span>: <span class="s2">"100000.00"</span>,
    <span class="s2">"subscription_plans"</span>: <span class="o">[{</span>
      <span class="s2">"id"</span>: 23,
      <span class="s2">"subscription_group_id"</span>: 25,
      <span class="s2">"duration_length"</span>: 3,
      <span class="s2">"price_cents"</span>: 34900,
      <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>,
      <span class="s2">"additional_assets"</span>: <span class="o">[]</span>,
      <span class="s2">"created_at"</span>: <span class="s2">"2017-09-04T09:05:06.047Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2017-09-04T09:05:06.047Z"</span>,
      <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>,
      <span class="s2">"description"</span>: null,
      <span class="s2">"title"</span>: <span class="s2">"print-3"</span>,
      <span class="s2">"max_trial_period_length"</span>: null,
      <span class="s2">"max_trial_period_unit"</span>: null,
      <span class="s2">"recurring"</span>: <span class="nb">false</span>,
      <span class="s2">"metadata"</span>: <span class="o">{}</span>
      <span class="s2">"assets"</span>: <span class="o">[]</span>,
      <span class="s2">"display_assets"</span>: <span class="o">[]</span>
    <span class="o">}]</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre>
<p>This will fetch details of a specific campaign.</p>
<h2 id='post-preview-a-patron-subscription'>POST Preview a Patron Subscription</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X POST https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriptions/preview.json -d <span class="s1">'{
  "subscription": {
    "subscription_plan_id": "11",
    "campaign_id": "1",
    "coupon_code": "NEWYEAR",
    "metadata":  {
        "full-name": "hello",
        "email": "hello@quintype.com"
    },
    "payment": {
        "payment_type": "razorpay"
    },
    "start_timestamp": "2018-07-24 00:00:00"
  },
  "alternate_provider": "email",
  "alternate_identity": "hey@quintype.com",
  "name": "Ben"
}'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>It returns a preview for a Patron of a Campaign, without creating a Patron for a Campaign.</p>

<p>The <code>campaign_id</code> field must be sent in the request for the request to be identified as a Patron Subscription Attempt.</p>

<p>For a successful preview attempt, it returns an <code>attempt_token</code>.</p>

<p>An <code>attempt_token</code> is the identifier of a subscription attempt. It should be sent back with <a href="#post-create-a-patron-subscription">create subscription</a> api to mark an attempt as success.</p>

<p>This API must be used before accepting payment from a potential patron.</p>

<p>One can pass the value for <code>payment.payment_type</code> as <code>razorpay_recurring</code> when making the preview API call to get <code>external_reference_id</code> and <code>attempt_token</code> in response.</p>
<h2 id='post-create-a-patron-subscription'>POST Create a Patron Subscription</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X POST https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriptions.json -d <span class="s1">'{
  "subscription": {
    "subscription_plan_id": "11",
    "campaign_id": "1",
    "coupon_code": "NEWYEAR",
    "payment": {
        "payment_type": "razorpay",
        "payment_token": "pay_test_8tNiqdiajurOkj",
        "amount_cents": "99900",
        "amount_currency": "INR"
    },
    "metadata":  {
        "full-name": "hello",
        "email": "hello@quintype.com"
    },
    "start_timestamp": "2017-09-21 00:00:00"
  },
  "alternate_provider": "email",
  "alternate_identity": "hey@quintype.com",
  "attempt_token": "fo4bMWjP6N5vtVySNtiAUNBQ",
  "name": "Ben"
}'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>This API can be used to create a Patron Subscription.</p>

<p>The <code>campaign_id</code> field must be sent in the request for the request to be identified as a Patron Subscription Creation.</p>

<p>Here <code>attempt_token</code> is the token received from <a href="#post-preview-a-patron-subscription">preview</a>.</p>

<p>It returns a Subscription Object in response.</p>
<h1 id='pay-per-asset'>Pay Per Asset</h1><h2 id='list-prices-of-assets'>List Prices of Assets</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -X GET <span class="s1">'http://www.accesstype.com/api/v1/asset/&lt;asset-type&gt;/pricing_plans.json?id=123456&amp;collection_id[]=123&amp;collection_id[]=456&gt;'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
    <span class="s2">"pricing_plans"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"id"</span>: 1071,
            <span class="s2">"price_cents"</span>: 1400,
            <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>,
            <span class="s2">"duration_length"</span>: 1,
            <span class="s2">"duration_unit"</span>: <span class="s2">"lifetime"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"id"</span>: 1959,
            <span class="s2">"price_cents"</span>: 1000,
            <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>,
            <span class="s2">"duration_length"</span>: 1,
            <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p>This API returns the prices of a story or a collection when sold individually.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Occurrence</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>/&lt;asset-type&gt;/</code></td>
<td>string</td>
<td>1</td>
<td>The type of asset that is being purchased. Valid Values for Quintype CMS <code>story</code>,<code>collection</code></td>
</tr>
<tr>
<td><code>id</code></td>
<td>string</td>
<td>1</td>
<td>The identifier of the story or collection that is being purchased.</td>
</tr>
<tr>
<td><code>collection_id[]</code></td>
<td>string</td>
<td>0 or many</td>
<td>The identifier of the collection that the story belongs to. Used when the value of <code>/&lt;asset-type&gt;/</code> is <code>story</code>.</td>
</tr>
</tbody></table>
<h2 id='create-asset-purchase-api'>Create Asset Purchase API</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X POST http://www.accesstype.com/api/v1/subscribers/email/myid@example.com/subscriptions.json -d <span class="s1">'{
  "subscription": {
    "subscription_type": "dynamic_asset",
    "subscription_plan_id": &lt;pricing-plan-id&gt;,
    "payment": {
      "payment_type": "simpl"
    },
    "metadata":  {
      "full-name": "hello",
      "email": "hello@quintype.com"
    },
    "dynamic_assets": [{
        "id": "some_asset_id"
     }]
  },
  "alternate_provider": "email",
  "alternate_identity": "hey@quintype.com",
  "attempt_token": "fo4bMWjP6N5vtVySNtiAUNBQ",
  "name": "Ben"
}
</span></code></pre><pre class="highlight shell tab-shell--response"><code></code></pre><h1 id='assets'>Assets</h1><h2 id='list-all-assets-accessible-to-a-user'>LIST All Assets accessible to a user</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/assets.json

</code></pre><pre class="highlight shell tab-shell--response"><code>
<span class="o">{</span>
   <span class="s2">"assets"</span>:[
     <span class="o">{</span>
       <span class="s2">"metadata"</span>:<span class="o">{}</span>,
       <span class="s2">"title"</span>:<span class="s2">"public"</span>,
       <span class="s2">"type"</span>:<span class="s2">"site"</span>
     <span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>

</code></pre><h1 id='subscriber-wallets'>Subscriber Wallets</h1><h2 id='post-subscriber-wallet-token'>POST subscriber wallet token</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X POST https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriber_wallets.json -d <span class="s1">'{
     "subscriber_wallet": {
        "provider": "simpl",
        "metadata": {
            "token": "8ashfsdfvyhurn8g9w85gjf"
        }
    }
 }'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"subscriber_wallet"</span>: <span class="o">{</span>
    <span class="s2">"provider"</span>: <span class="s2">"simpl"</span>,
    <span class="s2">"metadata"</span>: <span class="o">{</span>
      <span class="s2">"token"</span>: <span class="s2">"thenashfsdfvyurn8g9w85gjf"</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre>
<p>This request allows to POST a user&#39;s wallet token from any wallet provider.
Examples of Providers: <a href="https://getsimpl.com">Simpl</a>, <a href="https://paytm.com">PayTm</a></p>

<p>Allowed values for <code>subscriber_wallet.provider</code> are <code>simpl</code>,<code>paytm</code>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Mandatory</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subscriber_wallet.provider</td>
<td>string</td>
<td>Yes</td>
<td>Valid Values <code>simpl</code>,<code>paytm</code></td>
</tr>
<tr>
<td>subscriber_wallet.metadata</td>
<td>object</td>
<td>Yes</td>
<td>Can have multiple key value pairs. Can be used to store tokens provided by wallet provider. E.g., <code>&quot;token&quot;: &quot;8ashfsdfvyhurn8g9w85gjf&quot;</code></td>
</tr>
</tbody></table>

<p>The request body is returned back in the response.</p>
<h2 id='list-wallets-of-subscriber'>LIST wallets of subscriber</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriber_wallets.json

</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"subscriber_wallets"</span>: <span class="o">[{</span>
    <span class="s2">"provider"</span>: <span class="s2">"paytm_auto_debit"</span>,
    <span class="s2">"metadata"</span>: <span class="o">{</span>
      <span class="s2">"exprires_at"</span>: <span class="s2">"1517922233955"</span>
      <span class="o">}</span>
    <span class="o">}</span>,
    <span class="o">{</span>
    <span class="s2">"provider"</span>: <span class="s2">"simpl"</span>,
    <span class="s2">"metadata"</span>: <span class="o">{}</span>
    <span class="o">}]</span>
  <span class="o">}</span>
</code></pre>
<p>This API call returns all the wallets of a subscriber.</p>
<h2 id='delete-wallets-of-subscriber'>DELETE wallets of subscriber</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriber_wallets.json -X DELETE

</code></pre>
<p>This API deletes all the wallets of a subscriber.</p>
<h1 id='coupon-codes'>Coupon codes</h1><h2 id='get-discount-details-for-a-subscription-plan'>GET discount details for a subscription plan</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> https://www.accesstype.com/api/v1/subscription_plans/&lt;subscription-plan-id&gt;/coupon_codes/&lt;code&gt;/validate.json
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"discount_details"</span>: <span class="o">{</span>
    <span class="s2">"code"</span>: <span class="s2">"TEST100"</span>,
    <span class="s2">"discount_type"</span>: <span class="s2">"amount"</span>,
    <span class="s2">"title"</span>: <span class="s2">"test-100"</span>,
    <span class="s2">"value"</span>: 1000,
    <span class="s2">"discounted_price_cents"</span>: 28900,
    <span class="s2">"price_cents"</span>: 29900,
    <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>
  <span class="o">}</span>,
  <span class="s2">"message"</span>: <span class="s2">"Applied successfully"</span>
<span class="o">}</span>
</code></pre>
<p>It returns discount details for a active coupon code.</p>
<h1 id='invoices'>Invoices</h1><h2 id='get-invoice-details-for-a-subscription'>GET invoice details for a subscription</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span>
https://accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/subscriptions/&lt;subscription_id&gt;/invoices/&lt;invoice_id&gt;/download.json
</code></pre><pre class="highlight shell tab-shell--response"><code>It returns the invoice.pdf file <span class="k">in </span>pdf format
</code></pre>
<p>This API is used to download the invoice in the pdf format.</p>
<h3 id='invoice-template-variables'>Invoice Template Variables</h3>
<p>The below format considers the price inclusive of taxes.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_name</td>
<td>Name of the user in the accesstype who purchased the subscription</td>
</tr>
<tr>
<td>invoice_number</td>
<td>The sequence of invoice number for that account. Example: publisher_name/1, publiser_name/2</td>
</tr>
<tr>
<td>user_email</td>
<td>Email of the user in the accesstype who purchased the subscription</td>
</tr>
<tr>
<td>date</td>
<td>Date of purchase of subscription. Example: 11 Dec 2018</td>
</tr>
<tr>
<td>payment_method</td>
<td>Payment gateway used by the purchaser. Example: razorpay, simpl, paytm</td>
</tr>
<tr>
<td>recurring</td>
<td>true if it&#39;s a recurring subscription, false if it&#39;s a one time payment</td>
</tr>
<tr>
<td>base_price</td>
<td>Basic price is the amount receivable by the publisher from the user for the purchase of subscription minus any tax on the product.For example if 110 is the price paid by the user and 10 % if the tax specified by the admin. The base price is calculated by the following formula (110/(1+10/100)), which equals 100</td>
</tr>
<tr>
<td>subscription_group_title</td>
<td>The subscription group name, the subscription plan belongs to</td>
</tr>
<tr>
<td>subscription_plan_title</td>
<td>The subscription plan name, for which the user purchases a subscription</td>
</tr>
<tr>
<td>subscription_plan_price</td>
<td>The price of the subscription plan, specified by the admin without any discount applied</td>
</tr>
<tr>
<td>amount_paid</td>
<td>The amount received from the user. If the user applies a discount, discount is applied on the plan amount.</td>
</tr>
<tr>
<td>discount_details</td>
<td>It&#39;s a hash with following fields code - which represents the discount code applied by the user discount_percentage - which represents the percentage of discount applied discount_amount - which represents the amount of the discount Example: {&quot;code&quot; =&gt; &quot;UAT&quot;,&quot;discount_percentage&quot; =&gt; 20,&quot;discount_amount&quot; =&gt; &quot;77.97&quot;}</td>
</tr>
<tr>
<td>taxes</td>
<td>It&#39;s a hash with tax objects. If multiple taxes are specified by the admin, multiple tax objects will be present in this object {&quot;SGST&quot; =&gt; {&quot;percentage&quot; =&gt; &quot;9.0&quot;,&quot;amount&quot; =&gt; &quot;28.07&quot;,&quot;currency&quot; =&gt; &quot;INR&quot;},  &quot;CGST&quot; =&gt; {&quot;percentage&quot; =&gt; &quot;9.0&quot;,&quot;amount&quot; =&gt; &quot;28.07&quot;,&quot;currency&quot; =&gt; &quot;INR&quot;} }</td>
</tr>
<tr>
<td>subscription_end_date</td>
<td>Represents the end date of the subscription</td>
</tr>
<tr>
<td>dynamic_assets</td>
<td>This is applicable for pay per asset type of subscriptions. Suppose if user purchases a storytitle, slug will be available in this field  Example: [{id: &quot;some_asset_id&quot;, title: &quot;Some title&quot;, slug: &quot;/some-slug&quot;}]</td>
</tr>
<tr>
<td>amount_after_discount_before_tax</td>
<td>This amount is arrived at, when discount is applied on the base price and does not include the tax amounts.</td>
</tr>
<tr>
<td>round_off</td>
<td>The amount that was rounded off in calculating the amount paid by the subscriber from the calculated base price, price after discount and taxes. Unit: Rupee for INR and dollar for USD.</td>
</tr>
<tr>
<td>benefit_product</td>
<td>This is the title of the befefit product that is added to referree, because he/she used a coupon code which has discount type <code>unit</code></td>
</tr>
<tr>
<td>notes</td>
<td>If there are any notes made during the subscription creation</td>
</tr>
</tbody></table>
<h1 id='subscriber-referral-voucher'>Subscriber Referral Voucher</h1>
<p><em>Currently this feature is available only for accounts that use Voucherify</em></p>

<p>Every subscriber has a referral voucher code that he can share with others.</p>
<h2 id='get-referral-voucher-for-a-user'>GET Referral voucher for a user</h2><pre class="highlight shell tab-shell--request"><code><span class="gp">$ </span>curl -H <span class="s2">"X-SUBAUTH: &lt;auth-token&gt;"</span> https://www.accesstype.com/api/v1/subscribers/&lt;provider&gt;/&lt;identity&gt;/referral_voucher.json

</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
    <span class="s2">"referral_voucher"</span>: <span class="o">{</span>
        <span class="s2">"provider"</span>: <span class="s2">"voucherify"</span>,
        <span class="s2">"code"</span>: <span class="s2">"MY_REFERRAL"</span>,
        <span class="s2">"subscriber_id"</span>: 998
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>This API will return the referral voucher code for a user.</p>

<p>It will accept the primary identity via URL parameters, and will also accept query parameters <code>alternate_provider</code>, <code>alternate_identity</code> and <code>name</code>.</p>
<h1 id='webhooks'>Webhooks</h1>
<p>Accesstype has the ability to inform third party system by webhook calls that it makes to any third party systems.</p>
<h2 id='how-to-setup-accesstype-webhooks'>How to Setup Accesstype webhooks</h2>
<ol>
<li>Login to Accesstype and go to Settings &gt; Outgoing webhooks &gt; Add Webhook</li>
<li>Enter the URL that you would like Accesstype to make a POST call to.</li>
<li>Optionally enter a <code>Secret</code> in case you wish to verify and segregate the calls made from Accesstype. <a href="#verify-webhooks-sent-by-accesstype">Click here</a> for more info on how to verify Accesstype webhooks.</li>
<li>Check the <code>Active</code> checkbox. This is useful to activate the webhook when Accesstype automatically disables in case of failures.</li>
<li>Select one or more events for which for which you would want the webhook call to be made, and press save.</li>
</ol>
<h2 id='how-accesstype-outgoing-webhooks-work'>How Accesstype Outgoing Webhooks work</h2><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscription.created"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"event_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-16T14:04:39.836Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"subscriber"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1087</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-14T09:43:57.557Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-14T09:43:57.557Z"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="s2">"cumulative_end_timestamps"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"standard_subscriptions_cumulative_end_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-09-14T09:43:57.801Z"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"campaign_subscriptions_cumulative_end_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-04-14T09:45:02.183Z"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"subscriber_identities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
              </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo@example.com"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
              </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"quintype"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
          </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"expires_in_days"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">213</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscriber_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">234</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscription_plan_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-16T14:04:39.836Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-16T14:04:39.836Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly magazines"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"static"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"All exclusive reportage content"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"access_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">400</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"story"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"All paid stories"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"access_level"</span><span class="p">:</span><span class="w"> </span><span class="mi">300</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"story"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"start_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-06-16T14:04:39.836Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"end_timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2049-06-16T14:04:39.836Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"deleted_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">213</span><span class="p">,</span><span class="w">
    </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"full-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Damon Fritsch"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blakemcglynn@west.io"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"mobile-or-contact-number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"504.901.7100"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"external_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trial_period_length"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"trial_period_unit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"plan_amount_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">999900</span><span class="p">,</span><span class="w">
    </span><span class="s2">"plan_amount_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"INR"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duration_unit"</span><span class="p">:</span><span class="w"> </span><span class="s2">"years"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duration_length"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="s2">"plan_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold-lifetime-30-years"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"plan_description"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"group_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"group_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Silver + Access to Exclusive Reportage + Monthly round-up magazines"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscription_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"standard"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"plan_occurrence"</span><span class="p">:</span><span class="w"> </span><span class="s2">"One Time"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscription_attempt_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">224</span><span class="p">,</span><span class="w">
    </span><span class="s2">"renewal_reminder_sent_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"dynamic_assets"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df46ab654bfaa0067f928dd3247710e8"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A Summer Bird-Cage"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"slug"</span><span class="p">:</span><span class="w"> </span><span class="s2">"voluptatem_quaerat"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"coupon_discount_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"subscription_group_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
    </span><span class="s2">"preferred_identity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blakemcglynn@west.io"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"active"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_amount_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_amount_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"payment_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"renewable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"expired"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"coupon_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaign_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaign_subscription"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"recurring"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled_at"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"next_payment_due_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"cancelled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"in_grace_period"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"invoices"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">210</span><span class="p">,</span><span class="w">
        </span><span class="s2">"sequenced_invoice_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"base_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount_cents"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount_currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-16T14:04:49.847Z"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"amount_after_discount_before_tax"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"discount_details"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"invoice_taxes"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
        </span><span class="s2">"round_off"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9999"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"external_payment_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"downloadable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"subscriber_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Damon Fritsch"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"discount_detail"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<ul>
<li>Once the webhooks are set up, Accesstype makes a POST API call to the webhook URLs specified, as and when the event(s) occur.</li>
<li>The Webhook request body contains the Event Name and the Subscription Object.</li>
<li>When the third party system receives the request, it is advised to return back a success response (200, 201, 2xx).</li>
<li>In case the external system responds will a failure (non 2xx), then Accesstype will send an email to the Admins and Owners of the Accesstype account along with the payload and will also retry making the webhook call every hour. Accesstype will discontinue retrying the webhook call when it receives a success response or after 24 retries, whichever is earlier.</li>
<li>If the failures continue to persist, Accesstype will disable the webhook.</li>
<li>The disabled webhook can then be re-activated in the dashboard by going to Accesstype.com &gt; Settings &gt; Outgoing Webhooks &gt; Activate.
<strong>Note:</strong> Accesstype server waits for 10 seconds to open a connection with the destination server and 5 seconds to receive a response form it.</li>
</ul>
<h2 id='description-of-events'>Description of events</h2>
<table><thead>
<tr>
<th>Event name</th>
<th>Applicability</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subscription.expiry</td>
<td>One-time and Recurring Subscriptions</td>
<td>Triggered when a one-time-subscription has expired or a recurring subscription which was cancelled, has come to an end.</td>
</tr>
<tr>
<td>subscription.cancellation</td>
<td>One-time and Recurring Subscriptions</td>
<td>Triggered when a one-time or a recurring subscription is cancelled.</td>
</tr>
<tr>
<td>subscription.renewal</td>
<td>Recurring Subscriptions</td>
<td>Triggered when a recurring subscription is successfully renewed for the subsequent cycle.</td>
</tr>
<tr>
<td>subscription.creation</td>
<td>One-time and Recurring Subscriptions</td>
<td>Triggered when a new subscription is created.</td>
</tr>
<tr>
<td>subscription.entered_grace_period</td>
<td>Recurring Subscriptions</td>
<td>Triggered when the payment is pending for a recurring subscription, and is not yet renewed. Note: When a payment is due for a recurring subscription, Accesstype waits for the payment for a grace period of 5 days before it marks the subscription as expired. During this grace period, the subscriber continues to gain access to the content.</td>
</tr>
<tr>
<td>subscription.activated</td>
<td>One-time and Recurring subscriptions</td>
<td>Triggered when a subscription which was created in the <code>Pending</code> state, becomes <code>Active</code>.</td>
</tr>
<tr>
<td>subscription.expiry_reminder</td>
<td>One-time Subscriptions</td>
<td>Triggered as per the Number of Days Before Subscription Expiry in the webhooks dashboard</td>
</tr>
<tr>
<td>subscriber.creation</td>
<td>-NA-</td>
<td>Triggered when a new Subscriber is created in Accesstype.</td>
</tr>
</tbody></table>
<h2 id='verify-webhooks-sent-by-accesstype'>Verify Webhooks sent by Accesstype</h2><pre class="highlight ruby tab-ruby"><code><span class="n">signature</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">headers</span><span class="p">[</span><span class="s1">'X-AT-Signature'</span><span class="p">]</span>
<span class="n">digest</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">Digest</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">)</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s2">"foobar"</span> <span class="c1"># the secret that you have set in dashboard of Accesstype</span>
<span class="n">message</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">body</span><span class="p">.</span><span class="nf">read</span>
<span class="n">digest</span> <span class="o">=</span> <span class="no">OpenSSL</span><span class="o">::</span><span class="no">HMAC</span><span class="p">.</span><span class="nf">hexdigest</span><span class="p">(</span><span class="n">digest</span><span class="p">,</span> <span class="n">secret</span><span class="p">,</span> <span class="n">message</span><span class="p">)</span>
<span class="no">ActiveSupport</span><span class="o">::</span><span class="no">SecurityUtils</span><span class="p">.</span><span class="nf">secure_compare</span><span class="p">(</span><span class="n">digest</span><span class="p">,</span> <span class="n">signature</span><span class="p">)</span>
</code></pre>
<p>This section is useful when the Outgoing Webhooks feature is enabled in Accesstype dashboard under Accesstype &gt; Settings &gt; Outgoing Webhooks and if the field <code>Secret</code> has a value setup in the webhook.</p>

<p>Each webhook request will include a base64-encoded <code>X-AT-Signature</code> in the header, which is generated using the <code>Secret</code> that is setup in the Accesstype dashboard.</p>

<p>To verify that the request came from Accesstype, the HMAC <code>digest</code> must be computed according to an algorithm and compared with the value in the <code>X-AT-Signature</code> header. If they match, then you can be sure that the webhook was sent from Accesstype.</p>

<p>An example of the algorithm for signature verification is seen here in Rails.</p>
<h1 id='for-quintype-platform-customers'>For Quintype Platform Customers</h1>
<p>The customers of Quintype platform that have login implemented can use below APIs for subscriptions in Accesstype.</p>

<p>All the below APIs are safe to call from the front end JS, where it will read session-cookie to determine the current user. Backend callers can use X-QT-AUTH for the same purpose.</p>
<h2 id='post-preview-a-subscription-for-logged-in-user'>POST Preview a subscription for logged in user</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"content-type: application/json"</span> https://sketches.quintype.com/api/access/v1/members/me/subscriptions/preview -d <span class="s1">'{
  "subscription": {
    "subscription_plan_id": "11",
    "coupon_code": "NEWYEAR",
    "payment": {
        "payment_type": "razorpay",
        "amount_cents": "99900",
        "amount_currency": "INR"
    },
    "metadata":  {
        "full-name": "hello",
        "email": "hello@quintype.com"
    },
    "start_timestamp": "2017-09-21 00:00:00"
  }
}
'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code>  <span class="o">{</span>
    <span class="s2">"subscription"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: null,
        <span class="s2">"subscriber_id"</span>: 8302,
        <span class="s2">"subscription_plan_id"</span>: 11,
        <span class="s2">"created_at"</span>: null,
        <span class="s2">"updated_at"</span>: null,
        <span class="s2">"assets"</span>: <span class="o">[]</span>,
        <span class="s2">"start_timestamp"</span>: <span class="s2">"2218-09-29T19:54:02.833Z"</span>,
        <span class="s2">"end_timestamp"</span>: <span class="s2">"2318-09-29T19:54:02.833Z"</span>,
        <span class="s2">"deleted_at"</span>: null,
        <span class="s2">"payment_id"</span>: null,
        <span class="s2">"metadata"</span>: <span class="o">{</span>
          <span class="s2">"full-name"</span>: <span class="s2">"hello"</span>,
          <span class="s2">"email"</span>: <span class="s2">"hello@quintype.com"</span>
        <span class="o">}</span>,
        <span class="s2">"external_id"</span>: null,
        <span class="s2">"trial_period_length"</span>: null,
        <span class="s2">"trial_period_unit"</span>: null,
        <span class="s2">"code"</span>: null,
        <span class="s2">"discount_detail"</span>: <span class="o">{}</span>,
        <span class="s2">"coupon_code_id"</span>: null,
        <span class="s2">"campaign_id"</span>: null,
        <span class="s2">"plan_amount_cents"</span>: 50000,
        <span class="s2">"plan_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"duration_unit"</span>: <span class="s2">"lifetime"</span>,
        <span class="s2">"duration_length"</span>: 1,
        <span class="s2">"plan_name"</span>: <span class="s2">"life time "</span>,
        <span class="s2">"plan_description"</span>: <span class="s2">"life time "</span>,
        <span class="s2">"group_name"</span>: <span class="s2">"prod test 30 aug"</span>,
        <span class="s2">"group_description"</span>: <span class="s2">"prod test 30 aug"</span>,
        <span class="s2">"subscription_type"</span>: <span class="s2">"standard"</span>,
        <span class="s2">"plan_occurrence"</span>: <span class="s2">"One Time"</span>,
        <span class="s2">"subscription_attempt_id"</span>: null,
        <span class="s2">"renewal_reminder_sent_date"</span>: null,
        <span class="s2">"dynamic_assets"</span>: <span class="o">{}</span>,
        <span class="s2">"subscription_group_id"</span>: 2313,
        <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
            <span class="s2">"provider"</span>: <span class="s2">"email"</span>,
            <span class="s2">"value"</span>: <span class="s2">"biswajit+29@quintype.com"</span>
        <span class="o">}</span>,
        <span class="s2">"active"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_amount"</span>: <span class="s2">"0.00"</span>,
        <span class="s2">"payment_amount_cents"</span>: 0,
        <span class="s2">"payment_amount_currency"</span>: <span class="s2">"USD"</span>,
        <span class="s2">"payment_type"</span>: <span class="s2">"manual"</span>,
        <span class="s2">"payment_token"</span>: null,
        <span class="s2">"renewable"</span>: <span class="nb">false</span>,
        <span class="s2">"status"</span>: <span class="s2">"pending"</span>,
        <span class="s2">"expired"</span>: <span class="nb">false</span>,
        <span class="s2">"coupon_code"</span>: <span class="s2">"NEWYEAR,
        "</span>campaign_name<span class="s2">": null,
        "</span>campaign_subscription<span class="s2">": false,
        "</span>recurring<span class="s2">": false,
        "</span>cancelled_at<span class="s2">": null,
        "</span>next_payment_due_date<span class="s2">": null,
        "</span>cancelled<span class="s2">": false,
        "</span>in_grace_period<span class="s2">": false
    },
    "</span>attempt_token<span class="s2">": "</span>SSLvhLBEWiMxcEiMKgHxATpJ<span class="s2">",
    "</span>external_reference_id<span class="s2">": null
}
</span></code></pre>
<p>It returns a preview for a Subscription, without creating a new subscription.
For a successful subscription, it also return an <code>attempt_token</code>.</p>

<p>An <code>attempt_token</code> is the identifier of a subscription attempt. It should be sent back with <a href="#post-create-subscription-for-logged-in-user">create-subscription</a> api.</p>

<p>We highly recommend use of this API before accepting payment from a user.</p>
<h2 id='post-create-subscription-for-logged-in-user'>POST Create Subscription for logged in user</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X POST http://sketches.quintype.com/api/access/v1/members/me/subscriptions -d <span class="s1">'{
  "subscription": {
    "subscription_plan_id": "2118",
    "coupon_code": "UAT",
    "payment": {
        "payment_type": "razorpay",
        "payment_token": "pay_BWpQWQcLLK3L37",
        "amount_cents": "14400",
        "amount_currency": "INR"
    },
    "metadata":  {
        "full-name": "hello",
        "email": "hello@quintype.com"
    },
    "start_timestamp": "2018-09-21 00:00:00"
  },
  "attempt_token": "fo4bMWjP6N5vtVySNtiAUNBQ"
}'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
    <span class="s2">"subscription"</span>: <span class="o">{</span>
        <span class="s2">"invoices"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"amount_after_discount_before_tax"</span>: <span class="s2">"122.03"</span>,
                <span class="s2">"amount_currency"</span>: <span class="s2">"INR"</span>,
                <span class="s2">"id"</span>: 990,
                <span class="s2">"invoice_taxes"</span>: <span class="o">{</span>
                    <span class="s2">"SGST"</span>: <span class="o">{</span>
                        <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
                        <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
                        <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
                    <span class="o">}</span>,
                    <span class="s2">"CGST"</span>: <span class="o">{</span>
                        <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
                        <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
                        <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"amount_cents"</span>: 14400,
                <span class="s2">"base_price"</span>: <span class="s2">"152.54"</span>,
                <span class="s2">"sequenced_invoice_number"</span>: <span class="s2">"BQ/1819/SUB/167"</span>,
                <span class="s2">"discount_details"</span>: <span class="o">{</span>
                    <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
                    <span class="s2">"discount_percentage"</span>: 20,
                    <span class="s2">"discount_amount"</span>: <span class="s2">"30.51"</span>
                <span class="o">}</span>,
                <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.590Z"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"next_payment_due_date"</span>: null,
        <span class="s2">"deleted_at"</span>: null,
        <span class="s2">"campaign_name"</span>: null,
        <span class="s2">"payment_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"campaign_subscription"</span>: <span class="nb">false</span>,
        <span class="s2">"campaign_id"</span>: null,
        <span class="s2">"start_timestamp"</span>: <span class="s2">"2021-08-07T11:28:46.271Z"</span>,
        <span class="s2">"assets"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"Site"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{}</span>,
                <span class="s2">"type"</span>: <span class="s2">"site"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"Monthly magazines"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{}</span>,
                <span class="s2">"type"</span>: <span class="s2">"static"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All exclusive reportage content"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: 400
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All paid stories"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: 300
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All Story"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: <span class="s2">"999"</span>
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"end_timestamp"</span>: <span class="s2">"2021-11-07T11:28:46.271Z"</span>,
        <span class="s2">"payment_amount"</span>: <span class="s2">"144.00"</span>,
        <span class="s2">"discount_detail"</span>: <span class="o">{</span>
            <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
            <span class="s2">"discount_type"</span>: <span class="s2">"percent"</span>,
            <span class="s2">"title"</span>: <span class="s2">"UAT Trial"</span>,
            <span class="s2">"value"</span>: 20,
            <span class="s2">"discounted_price_cents"</span>: 14400,
            <span class="s2">"price_cents"</span>: 18000,
            <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>
        <span class="o">}</span>,
        <span class="s2">"duration_length"</span>: 3,
        <span class="s2">"dynamic_assets"</span>: <span class="o">{}</span>,
        <span class="s2">"trial_period_length"</span>: null,
        <span class="s2">"group_description"</span>: <span class="s2">"Silver + Access to Exclusive Reportage + Monthly round-up magazines"</span>,
        <span class="s2">"renewable"</span>: <span class="nb">false</span>,
        <span class="s2">"subscription_attempt_id"</span>: 96595,
        <span class="s2">"subscription_group_id"</span>: 2197,
        <span class="s2">"coupon_code"</span>: <span class="s2">"UAT"</span>,
        <span class="s2">"recurring"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_type"</span>: <span class="s2">"razorpay"</span>,
        <span class="s2">"cancelled"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_token"</span>: <span class="s2">"pay_BWpQWQcLLK3L37"</span>,
        <span class="s2">"updated_at"</span>: <span class="s2">"2018-12-12T10:25:48.494Z"</span>,
        <span class="s2">"coupon_code_id"</span>: 82,
        <span class="s2">"plan_amount_cents"</span>: 18000,
        <span class="s2">"status"</span>: <span class="s2">"pending"</span>,
        <span class="s2">"group_name"</span>: <span class="s2">"Unlimited"</span>,
        <span class="s2">"external_id"</span>: null,
        <span class="s2">"active"</span>: <span class="nb">false</span>,
        <span class="s2">"id"</span>: 32405,
        <span class="s2">"plan_occurrence"</span>: <span class="s2">"One Time"</span>,
        <span class="s2">"in_grace_period"</span>: <span class="nb">false</span>,
        <span class="s2">"code"</span>: null,
        <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
            <span class="s2">"provider"</span>: <span class="s2">"quintype"</span>,
            <span class="s2">"value"</span>: <span class="s2">"251933"</span>
        <span class="o">}</span>,
        <span class="s2">"plan_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"expired"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_id"</span>: 32379,
        <span class="s2">"plan_name"</span>: <span class="s2">"3 months"</span>,
        <span class="s2">"subscription_plan_id"</span>: 2118,
        <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>,
        <span class="s2">"trial_period_unit"</span>: null,
        <span class="s2">"subscription_type"</span>: <span class="s2">"standard"</span>,
        <span class="s2">"plan_description"</span>: <span class="s2">"All assets "</span>,
        <span class="s2">"cancelled_at"</span>: null,
        <span class="s2">"metadata"</span>: <span class="o">{</span>
            <span class="s2">"mobile_number"</span>: <span class="s2">"7639817688"</span>
        <span class="o">}</span>,
        <span class="s2">"renewal_reminder_sent_date"</span>: null,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.494Z"</span>,
        <span class="s2">"subscriber_id"</span>: 9311,
        <span class="s2">"payment_amount_cents"</span>: 14400
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>This API can be used to create a subscription.</p>

<p>Here <code>attempt_token</code> is the token received from <a href="#post-preview-a-subscription-for-logged-in-user">preview</a>.</p>
<h2 id='list-all-subscriptions-of-a-user'>LIST All subscriptions of a user</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> http://sketches.quintype.com/api/access/v1/members/me/subscriptions

</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"subscriptions"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"invoices"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"amount_after_discount_before_tax"</span>: <span class="s2">"122.03"</span>,
          <span class="s2">"amount_currency"</span>: <span class="s2">"INR"</span>,
          <span class="s2">"id"</span>: 990,
          <span class="s2">"invoice_taxes"</span>: <span class="o">{</span>
            <span class="s2">"SGST"</span>: <span class="o">{</span>
              <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
              <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
              <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
            <span class="o">}</span>,
            <span class="s2">"CGST"</span>: <span class="o">{</span>
              <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
              <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
              <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
            <span class="o">}</span>
          <span class="o">}</span>,
          <span class="s2">"amount_cents"</span>: 14400,
          <span class="s2">"base_price"</span>: <span class="s2">"152.54"</span>,
          <span class="s2">"sequenced_invoice_number"</span>: <span class="s2">"BQ/1819/SUB/167"</span>,
          <span class="s2">"discount_details"</span>: <span class="o">{</span>
            <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
            <span class="s2">"discount_percentage"</span>: 20,
            <span class="s2">"discount_amount"</span>: <span class="s2">"30.51"</span>
          <span class="o">}</span>,
          <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.590Z"</span>
        <span class="o">}</span>
      <span class="o">]</span>,
      <span class="s2">"id"</span>: 713,
      <span class="s2">"subscriber_id"</span>: 453,
      <span class="s2">"subscription_plan_id"</span>: 16,
      <span class="s2">"created_at"</span>: <span class="s2">"2017-10-30T10:55:42.201Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2017-10-30T10:55:42.201Z"</span>,
      <span class="s2">"assets"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"metadata"</span>: <span class="o">{}</span>,
          <span class="s2">"title"</span>: <span class="s2">"public"</span>,
          <span class="s2">"type"</span>: <span class="s2">"site"</span>
        <span class="o">}</span>
      <span class="o">]</span>,
      <span class="s2">"start_timestamp"</span>: <span class="s2">"2017-10-30T10:55:42.176Z"</span>,
      <span class="s2">"end_timestamp"</span>: <span class="s2">"2017-11-13T10:55:42.176Z"</span>,
      <span class="s2">"deleted_at"</span>: null,
      <span class="s2">"payment_id"</span>: 668,
      <span class="s2">"metadata"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Sample User"</span>,
        <span class="s2">"Address"</span>: <span class="s2">"Sample add"</span>,
        <span class="s2">"Phone Number"</span>: <span class="s2">"1111111111"</span>
      <span class="o">}</span>,
      <span class="s2">"external_id"</span>: null,
      <span class="s2">"trial_period_length"</span>: null,
      <span class="s2">"trial_period_unit"</span>: null,
      <span class="s2">"coupon_code"</span>: null,
      <span class="s2">"subscription_group_id"</span>: 21,
      <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
        <span class="s2">"provider"</span>: <span class="s2">"email"</span>,
        <span class="s2">"value"</span>: <span class="s2">"sample@gmail.com"</span>
      <span class="o">}</span>,
      <span class="s2">"group_name"</span>: <span class="s2">"Sub Group 1"</span>,
      <span class="s2">"plan_name"</span>: <span class="s2">"Sub Plan 1"</span>,
      <span class="s2">"duration_length"</span>: 2,
      <span class="s2">"duration_unit"</span>: <span class="s2">"weeks"</span>,
      <span class="s2">"subscription_type"</span>: <span class="s2">"individual"</span>,
      <span class="s2">"active"</span>: <span class="nb">true</span>,
      <span class="s2">"payment_amount"</span>: <span class="s2">"0.00"</span>,
      <span class="s2">"payment_type"</span>: <span class="s2">"manual"</span>,
      <span class="s2">"renewable"</span>: <span class="nb">true</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p>It gives all subscriptions for a user.</p>
<h2 id='list-all-assets-accessible-to-user'>LIST All Assets accessible to user</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> http://sketches.quintype.com/api/access/v1/members/me/assets

</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
   <span class="s2">"assets"</span>:[
      <span class="o">{</span>
       <span class="s2">"metadata"</span>:<span class="o">{}</span>,
       <span class="s2">"title"</span>:<span class="s2">"public"</span>,
       <span class="s2">"type"</span>:<span class="s2">"site"</span>
      <span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>

</code></pre>
<p>It gives all assets accessible to a user.</p>
<h2 id='patch-update-all-subscriptions'>PATCH Update all subscriptions</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X PATCH http://sketches.quintype.com/api/access/v1/members/me/subscriptions -d <span class="s1">'{
  "metadata":  {
    "full-name": "hello-world",
    "email": "hello@quintype.com"
  }
}'</span>

</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>It bulk updates <strong>all</strong> subscriptions for user.</p>
<h2 id='patch-update-a-subscription'>PATCH Update a subscription</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X PATCH http://sketches.quintype.com/api/access/v1/members/me/subscriptions/&lt;id&gt; -d <span class="s1">'{
  "metadata":  {
    "full-name": "hello-world",
    "email": "hello@quintype.com"
  }
}'</span>

</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>It updates a subscription for user.</p>
<h2 id='post-renew-a-subscription-for-logged-in-user'>POST Renew a subscription for logged in user</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X POST http://sketches.quintype.com/api/access/v1/members/me/subscriptions/&lt;id&gt;/renewals -d <span class="s1">'{
  "coupon_code": "",
  "payment": {
      "payment_type": "razorpay",
      "payment_token": "pay_test_8tNiqdiajurOkj",
      "amount_cents": "99900",
      "amount_currency": "INR"
  }
}'</span>

</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>This API can be used to renew any renewable subscription.</p>

<p>One can use the optional <code>metadata</code> field to set it different from that of the existing subsription. If not passed, it is set to be same as existing subscription.</p>
<h2 id='post-create-wallet'>POST Create Wallet</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X POST http://sketches.quintype.com/api/access/v1/members/me/subscriber-wallets -d <span class="s1">'{
  "subscriber_wallet": {
        "provider": "simpl",
        "metadata": {
            "token": "thenashfsdfvyurn8g9w85gjf"
        }
    }
}'</span>

</code></pre><pre class="highlight shell tab-shell--response"><code> <span class="o">{</span>
  <span class="s2">"subscriber_wallet"</span>: <span class="o">{</span>
    <span class="s2">"provider"</span>: <span class="s2">"simpl"</span>,
    <span class="s2">"metadata"</span>: <span class="o">{</span>
      <span class="s2">"token"</span>: <span class="s2">"thenashfsdfvyurn8g9w85gjf"</span>
      <span class="o">}</span>
    <span class="o">}</span>
  <span class="o">}</span>
</code></pre>
<p>This API can be used to add/update wallets for a user.</p>
<h2 id='get-list-wallets'>GET List Wallets</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> http://sketches.quintype.com/api/access/v1/members/me/subscriber-wallets

</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"subscriber_wallets"</span>: <span class="o">[</span><span class="s2">"paytm"</span><span class="o">]</span>
<span class="o">}</span>

</code></pre>
<p>This API can be used to get wallets for a user.</p>
<h2 id='delete-wallets'>DELETE Wallets</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> http://sketches.quintype.com/api/access/v1/members/me/subscriber-wallets -X DELETE

</code></pre>
<p>This API can be used to delete all wallets of a user.</p>
<h2 id='get-prices-of-assets'>GET prices of Assets</h2><pre class="highlight shell tab-shell--request"><code>curl -X GET <span class="s1">'http://sketches.quintype.com/api/v1/asset/&lt;asset-type&gt;/pricing-plans?id=123456'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
    <span class="s2">"pricing_plans"</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">"id"</span>: 1071,
            <span class="s2">"price_cents"</span>: 1400,
            <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>,
            <span class="s2">"duration_length"</span>: 1,
            <span class="s2">"duration_unit"</span>: <span class="s2">"lifetime"</span>
        <span class="o">}</span>,
        <span class="o">{</span>
            <span class="s2">"id"</span>: 1959,
            <span class="s2">"price_cents"</span>: 1000,
            <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>,
            <span class="s2">"duration_length"</span>: 1,
            <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p>This API returns the prices of a story or a collection when sold individually.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Occurrence</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>/&lt;asset-type&gt;/</code></td>
<td>string</td>
<td>1</td>
<td>The type of asset that is being purchased. Valid Values for Quintype CMS <code>story</code>,<code>collection</code></td>
</tr>
<tr>
<td><code>id</code></td>
<td>string</td>
<td>1</td>
<td>The identifier of the story or collection that is being purchased.</td>
</tr>
<tr>
<td><code>collection_id[]</code></td>
<td>string</td>
<td>0 or many</td>
<td>The identifier of the collection that the story belongs to. Used when the value of <code>/&lt;asset-type&gt;/</code> is <code>story</code>.</td>
</tr>
</tbody></table>
<h2 id='get-access-details-with-metering'>GET Access details with metering</h2><pre class="highlight shell tab-shell--request"><code>
<span class="gp">$ </span>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -X GET <span class="s1">'https://sketches.quintype.com/api/access/v1/stories/&lt;story-id&gt;/access'</span>

</code></pre><pre class="highlight shell tab-shell--response"><code>
<span class="o">{</span>
  <span class="s2">"granted"</span>: <span class="nb">true</span>,
  <span class="s2">"grantReason"</span>: <span class="s2">"METERING"</span>,
  <span class="s2">"data"</span>: <span class="o">{</span>
    <span class="s2">"numberRemaining"</span>: 6,
    <span class="s2">"isLoggedIn"</span>: <span class="nb">true</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre>
<p>It is a credentialed CORS GET endpoint.</p>

<p>The properties in the response are:</p>

<ul>
<li>&quot;granted&quot; - boolean stating if the access to the document is granted or not.</li>
<li>&quot;grantReason&quot; - the string of the reason for giving the access to the document, recognized reasons are either SUBSCRIBER meaning the user is fully subscribed or METERING meaning user is on metering.</li>
<li>&quot;data&quot; - any free form data which can be used for render templating.</li>
</ul>

<p>This API is safe to call from the front end JS, where it will read session-cookie to determine the current user and thin-mint cookie for determining meter identity.</p>

<table><thead>
<tr>
<th>Element</th>
<th>Occurrence</th>
<th>Data Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>granted</td>
<td>Mandatory</td>
<td>boolean</td>
<td><code>true</code>, <code>false</code> Indicates that the user is granted access to the content or not.</td>
</tr>
<tr>
<td>grantReason</td>
<td>Mandatory when <code>granted</code>=<code>true</code></td>
<td>enum</td>
<td>The reason why access is granted to the user. <code>METERING</code> : The user was granted access as the paywall meter was consumed.<code>SUBSCRIBER</code> : The user was granted access as the user was identified as an active subscriber.</td>
</tr>
<tr>
<td>data.numberRemaining</td>
<td>optional</td>
<td>integer</td>
<td>The number of articles/stories remaining for the user to be granted access to because of the paywall meter. Appears when granted=<code>true</code> and <code>grantReason</code> = <code>METERING</code> when the paywall meter for the user was consumed.</td>
</tr>
<tr>
<td>data.isLoggedIn</td>
<td>optional</td>
<td>boolean</td>
<td>Indicates if the user was logged in or not.</td>
</tr>
</tbody></table>

<p><em>Note</em> An additional query param <code>disable-meter=true</code> needs to be sent for stories behind hard paywall. Such stories will not be metered and access will be granted only to subscribers.</p>
<h2 id='post-pingback-and-update-meter'>POST Pingback and update meter</h2><pre class="highlight shell tab-shell--request"><code>
<span class="gp">$ </span>curl -H <span class="s2">"Content-Type: text/plain"</span> -X POST <span class="s1">'https://sketches.quintype.com/api/access/v1/stories/&lt;story-id&gt;/pingback -d {
  "granted": true,
  "grantReason": "METERING",
  "data": {
    "numberRemaining": 6,
    "isLoggedIn": true
  }
}'</span>

</code></pre><pre class="highlight shell tab-shell--response"><code>
</code></pre>
<p>It is a credentialed CORS POST endpoint to be used for the Publisher to update metering information. Call this endpoint when the Reader has started viewing the document.</p>

<p>This API is safe to call from the front end JS, where it will read thin-mint cookie for determining meter identity.</p>

<p>Important: The pingback JSON object is sent with Content-type: text/plain. This is intentional as it removes the need for a CORS preflight check.</p>
<h2 id='get-invoice-pdf-download'>GET Invoice pdf download</h2><pre class="highlight shell tab-shell--request"><code> curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -X GET <span class="s1">'http://sketches.quintype.com/api/access/v1/members/me/subscriptions/&lt;subscriptionId&gt;/invoices/&lt;invoiceId&gt;/download'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code>It returns the invoice file <span class="k">in </span>pdf format.
</code></pre>
<p>This API is used by publishers on the Quintype platform, to download the invoice in the pdf format.</p>
<h3 id='invoice-template-variables'>Invoice Template Variables</h3>
<p>The below format considers the price inclusive of taxes.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user_name</td>
<td>Name of the user in the accesstype who purchased the subscription</td>
</tr>
<tr>
<td>invoice_number</td>
<td>The sequence of invoice number for that account. Example: publisher_name/1, publiser_name/2</td>
</tr>
<tr>
<td>user_email</td>
<td>Email of the user in the accesstype who purchased the subscription</td>
</tr>
<tr>
<td>date</td>
<td>Date of purchase of subscription. Example: 11 Dec 2018</td>
</tr>
<tr>
<td>payment_method</td>
<td>Payment gateway used by the purchaser. Example: razorpay, simpl, paytm</td>
</tr>
<tr>
<td>recurring</td>
<td>true if it&#39;s a recurring subscription, false if it&#39;s a one time payment</td>
</tr>
<tr>
<td>base_price</td>
<td>Basic price is the amount receivable by the publisher from the user for the purchase of subscription minus any tax on the product.For example if 110 is the price paid by the user and 10 % if the tax specified by the admin. The base price is calculated by the following formula (110/(1+10/100)), which equals 100</td>
</tr>
<tr>
<td>subscription_group_title</td>
<td>The subscription group name, the subscription plan belongs to</td>
</tr>
<tr>
<td>subscription_plan_title</td>
<td>The subscription plan name, for which the user purchases a subscription</td>
</tr>
<tr>
<td>subscription_plan_price</td>
<td>The price of the subscription plan, specified by the admin without any discount applied</td>
</tr>
<tr>
<td>amount_paid</td>
<td>The amount received from the user. If the user applies a discount, discount is applied on the plan amount.</td>
</tr>
<tr>
<td>discount_details</td>
<td>It&#39;s a hash with following fields code - which represents the discount code applied by the user discount_percentage - which represents the percentage of discount applied discount_amount - which represents the amount of the discount Example: {&quot;code&quot; =&gt; &quot;UAT&quot;,&quot;discount_percentage&quot; =&gt; 20,&quot;discount_amount&quot; =&gt; &quot;77.97&quot;}</td>
</tr>
<tr>
<td>taxes</td>
<td>It&#39;s a hash with tax objects. If multiple taxes are specified by the admin, multiple tax objects will be present in this object {&quot;SGST&quot; =&gt; {&quot;percentage&quot; =&gt; &quot;9.0&quot;,&quot;amount&quot; =&gt; &quot;28.07&quot;,&quot;currency&quot; =&gt; &quot;INR&quot;},  &quot;CGST&quot; =&gt; {&quot;percentage&quot; =&gt; &quot;9.0&quot;,&quot;amount&quot; =&gt; &quot;28.07&quot;,&quot;currency&quot; =&gt; &quot;INR&quot;} }</td>
</tr>
<tr>
<td>subscription_end_date</td>
<td>Represents the end date of the subscription</td>
</tr>
<tr>
<td>dynamic_assets</td>
<td>This is applicable for pay per asset type of subscriptions. Suppose if user purchases a storytitle, slug will be available in this field  Example: [{id: &quot;some_asset_id&quot;, title: &quot;Some title&quot;, slug: &quot;/some-slug&quot;}]</td>
</tr>
<tr>
<td>amount_after_discount_before_tax</td>
<td>This amount is arrived at, when discount is applied on the base price</td>
</tr>
<tr>
<td>round_off</td>
<td>The amount that was rounded off in calculating the amount paid by the subscriber from the calculated base price, price after discount and taxes.</td>
</tr>
</tbody></table>
<h1 id='for-accepting-donations'>For Accepting Donations</h1>
<p>The below APIs can be used in all the cases when the identity of the user can be ignored.
For example, if you want to accept pure donations and not manage access of any digital content.</p>

<p>All these APIs are safe to call from the front end JS.</p>
<h2 id='post-preview-a-subscription-without-login'>POST Preview a subscription without login</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"content-type: application/json"</span> https://sketches.quintype.com/api/access/v1/subscription-without-login/preview -d <span class="s1">'{
  "subscription": {
    "subscription_plan_id": "11",
    "coupon_code": "NEWYEAR",
    "payment": {
        "payment_type": "razorpay",
        "amount_cents": "99900",
        "amount_currency": "INR"
    },
    "metadata":  {
        "full-name": "hello",
        "email": "hello@quintype.com"
    },
    "start_timestamp": "2017-09-21 00:00:00"
  }
}
'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"subscription"</span>: <span class="o">{</span>
    <span class="s2">"invoices"</span>: <span class="o">[]</span>,
    <span class="s2">"next_payment_due_date"</span>: null,
    <span class="s2">"deleted_at"</span>: null,
    <span class="s2">"campaign_name"</span>: null,
    <span class="s2">"payment_amount_currency"</span>: <span class="s2">"INR"</span>,
    <span class="s2">"campaign_subscription"</span>: <span class="nb">false</span>,
    <span class="s2">"campaign_id"</span>: null,
    <span class="s2">"start_timestamp"</span>: <span class="s2">"2018-07-24T00:00:00.000Z"</span>,
    <span class="s2">"assets"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"title"</span>: <span class="s2">"Asset Site Title"</span>,
        <span class="s2">"metadata"</span>: <span class="o">{}</span>,
        <span class="s2">"type"</span>: <span class="s2">"site"</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"end_timestamp"</span>: <span class="s2">"2018-08-24T00:00:00.000Z"</span>,
    <span class="s2">"payment_amount"</span>: <span class="s2">"8.50"</span>,
    <span class="s2">"discount_detail"</span>: <span class="o">{</span>
      <span class="s2">"code"</span>: <span class="s2">"NEWYEAR"</span>,
      <span class="s2">"discount_type"</span>: <span class="s2">"percent"</span>,
      <span class="s2">"title"</span>: <span class="s2">"New Year offer"</span>,
      <span class="s2">"value"</span>: 15,
      <span class="s2">"discounted_price_cents"</span>: 850,
      <span class="s2">"price_cents"</span>: 1000,
      <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>
    <span class="o">}</span>,
    <span class="s2">"duration_length"</span>: 1,
    <span class="s2">"dynamic_assets"</span>: <span class="o">{}</span>,
    <span class="s2">"trial_period_length"</span>: null,
    <span class="s2">"group_description"</span>: <span class="s2">"Subscription Group Description"</span>,
    <span class="s2">"renewable"</span>: <span class="nb">true</span>,
    <span class="s2">"subscription_attempt_id"</span>: null,
    <span class="s2">"subscription_group_id"</span>: 4409,
    <span class="s2">"coupon_code"</span>: <span class="s2">"NEWYEAR"</span>,
    <span class="s2">"recurring"</span>: <span class="nb">false</span>,
    <span class="s2">"payment_type"</span>: <span class="s2">"preview"</span>,
    <span class="s2">"cancelled"</span>: <span class="nb">false</span>,
    <span class="s2">"payment_token"</span>: null,
    <span class="s2">"updated_at"</span>: null,
    <span class="s2">"coupon_code_id"</span>: 81,
    <span class="s2">"plan_amount_cents"</span>: 1000,
    <span class="s2">"status"</span>: <span class="s2">"expired"</span>,
    <span class="s2">"group_name"</span>: <span class="s2">"Test_Subscription_Group1544522619333"</span>,
    <span class="s2">"external_id"</span>: null,
    <span class="s2">"active"</span>: <span class="nb">false</span>,
    <span class="s2">"id"</span>: null,
    <span class="s2">"plan_occurrence"</span>: <span class="s2">"One Time"</span>,
    <span class="s2">"in_grace_period"</span>: <span class="nb">false</span>,
    <span class="s2">"code"</span>: null,
    <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
      <span class="s2">"provider"</span>: <span class="s2">"email"</span>,
      <span class="s2">"value"</span>: <span class="s2">"qa20Dec2018123234@quintype.com"</span>
    <span class="o">}</span>,
    <span class="s2">"plan_amount_currency"</span>: <span class="s2">"INR"</span>,
    <span class="s2">"expired"</span>: <span class="nb">true</span>,
    <span class="s2">"payment_id"</span>: null,
    <span class="s2">"plan_name"</span>: <span class="s2">"Test "</span>,
    <span class="s2">"subscription_plan_id"</span>: 5594,
    <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>,
    <span class="s2">"trial_period_unit"</span>: null,
    <span class="s2">"subscription_type"</span>: <span class="s2">"standard"</span>,
    <span class="s2">"plan_description"</span>: <span class="s2">"test"</span>,
    <span class="s2">"cancelled_at"</span>: null,
    <span class="s2">"metadata"</span>: <span class="o">{</span>
      <span class="s2">"mobile"</span>: <span class="s2">"9844089877"</span>,
      <span class="s2">"full-name"</span>: <span class="s2">"hello"</span>,
      <span class="s2">"email"</span>: <span class="s2">"hello@quintype.com"</span>
    <span class="o">}</span>,
    <span class="s2">"renewal_reminder_sent_date"</span>: null,
    <span class="s2">"created_at"</span>: null,
    <span class="s2">"subscriber_id"</span>: 37104,
    <span class="s2">"payment_amount_cents"</span>: 850
  <span class="o">}</span>,
  <span class="s2">"attempt_token"</span>: <span class="s2">"9r1Sctb2pyvocEkwhp1U5Sfq"</span>,
  <span class="s2">"external_reference_id"</span>: null
<span class="o">}</span>
</code></pre>
<p>It returns a preview for a Subscription, without creating a new subscription.
For a successful subscription, it also return an <code>attempt_token</code>.</p>

<p>An <code>attempt_token</code> is the identifier of a subscription attempt. It should be sent back along with subscription creation API.
We highly recommend use of this API before accepting payment form a user.</p>
<h2 id='post-create-subscription-without-login'>POST Create Subscription without login</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"content-type: application/json"</span> https://sketches.quintype.com/api/access/v1/subscription-without-login -d <span class="s1">'{
  "subscription": {
    "subscription_plan_id": "11",
    "coupon_code": "NEWYEAR",
    "payment": {
        "payment_type": "razorpay",
        "amount_cents": "99900",
        "amount_currency": "INR"
    },
    "metadata":  {
        "full-name": "hello",
        "email": "hello@quintype.com"
    },
    "start_timestamp": "2017-09-21 00:00:00"
  }
}
'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
    <span class="s2">"subscription"</span>: <span class="o">{</span>
        <span class="s2">"invoices"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"amount_after_discount_before_tax"</span>: <span class="s2">"122.03"</span>,
                <span class="s2">"amount_currency"</span>: <span class="s2">"INR"</span>,
                <span class="s2">"id"</span>: 990,
                <span class="s2">"invoice_taxes"</span>: <span class="o">{</span>
                    <span class="s2">"SGST"</span>: <span class="o">{</span>
                        <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
                        <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
                        <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
                    <span class="o">}</span>,
                    <span class="s2">"CGST"</span>: <span class="o">{</span>
                        <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
                        <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
                        <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"amount_cents"</span>: 14400,
                <span class="s2">"base_price"</span>: <span class="s2">"152.54"</span>,
                <span class="s2">"sequenced_invoice_number"</span>: <span class="s2">"BQ/1819/SUB/167"</span>,
                <span class="s2">"discount_details"</span>: <span class="o">{</span>
                    <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
                    <span class="s2">"discount_percentage"</span>: 20,
                    <span class="s2">"discount_amount"</span>: <span class="s2">"30.51"</span>
                <span class="o">}</span>,
                <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.590Z"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"next_payment_due_date"</span>: null,
        <span class="s2">"deleted_at"</span>: null,
        <span class="s2">"campaign_name"</span>: null,
        <span class="s2">"payment_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"campaign_subscription"</span>: <span class="nb">false</span>,
        <span class="s2">"campaign_id"</span>: null,
        <span class="s2">"start_timestamp"</span>: <span class="s2">"2021-08-07T11:28:46.271Z"</span>,
        <span class="s2">"assets"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"Site"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{}</span>,
                <span class="s2">"type"</span>: <span class="s2">"site"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"Monthly magazines"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{}</span>,
                <span class="s2">"type"</span>: <span class="s2">"static"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All exclusive reportage content"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: 400
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All paid stories"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: 300
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All Story"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: <span class="s2">"999"</span>
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"end_timestamp"</span>: <span class="s2">"2021-11-07T11:28:46.271Z"</span>,
        <span class="s2">"payment_amount"</span>: <span class="s2">"144.00"</span>,
        <span class="s2">"discount_detail"</span>: <span class="o">{</span>
            <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
            <span class="s2">"discount_type"</span>: <span class="s2">"percent"</span>,
            <span class="s2">"title"</span>: <span class="s2">"UAT Trial"</span>,
            <span class="s2">"value"</span>: 20,
            <span class="s2">"discounted_price_cents"</span>: 14400,
            <span class="s2">"price_cents"</span>: 18000,
            <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>
        <span class="o">}</span>,
        <span class="s2">"duration_length"</span>: 3,
        <span class="s2">"dynamic_assets"</span>: <span class="o">{}</span>,
        <span class="s2">"trial_period_length"</span>: null,
        <span class="s2">"group_description"</span>: <span class="s2">"Silver + Access to Exclusive Reportage + Monthly round-up magazines"</span>,
        <span class="s2">"renewable"</span>: <span class="nb">false</span>,
        <span class="s2">"subscription_attempt_id"</span>: 96595,
        <span class="s2">"subscription_group_id"</span>: 2197,
        <span class="s2">"coupon_code"</span>: <span class="s2">"UAT"</span>,
        <span class="s2">"recurring"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_type"</span>: <span class="s2">"razorpay"</span>,
        <span class="s2">"cancelled"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_token"</span>: <span class="s2">"pay_BWpQWQcLLK3L37"</span>,
        <span class="s2">"updated_at"</span>: <span class="s2">"2018-12-12T10:25:48.494Z"</span>,
        <span class="s2">"coupon_code_id"</span>: 82,
        <span class="s2">"plan_amount_cents"</span>: 18000,
        <span class="s2">"status"</span>: <span class="s2">"pending"</span>,
        <span class="s2">"group_name"</span>: <span class="s2">"Unlimited"</span>,
        <span class="s2">"external_id"</span>: null,
        <span class="s2">"active"</span>: <span class="nb">false</span>,
        <span class="s2">"id"</span>: 32405,
        <span class="s2">"plan_occurrence"</span>: <span class="s2">"One Time"</span>,
        <span class="s2">"in_grace_period"</span>: <span class="nb">false</span>,
        <span class="s2">"code"</span>: null,
        <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
            <span class="s2">"provider"</span>: <span class="s2">"quintype"</span>,
            <span class="s2">"value"</span>: <span class="s2">"251933"</span>
        <span class="o">}</span>,
        <span class="s2">"plan_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"expired"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_id"</span>: 32379,
        <span class="s2">"plan_name"</span>: <span class="s2">"3 months"</span>,
        <span class="s2">"subscription_plan_id"</span>: 2118,
        <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>,
        <span class="s2">"trial_period_unit"</span>: null,
        <span class="s2">"subscription_type"</span>: <span class="s2">"standard"</span>,
        <span class="s2">"plan_description"</span>: <span class="s2">"All assets "</span>,
        <span class="s2">"cancelled_at"</span>: null,
        <span class="s2">"metadata"</span>: <span class="o">{</span>
            <span class="s2">"mobile_number"</span>: <span class="s2">"7639817688"</span>
        <span class="o">}</span>,
        <span class="s2">"renewal_reminder_sent_date"</span>: null,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.494Z"</span>,
        <span class="s2">"subscriber_id"</span>: 9311,
        <span class="s2">"payment_amount_cents"</span>: 14400
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>This API can be used to create a subscription.</p>

<p>Here <code>attempt_token</code> is the token received from <a href="#post-preview-a-subscription-without-login">preview</a>.</p>

<p>This API is safe to call from the front end JS, where it will read session-cookie to determine the current user. Backend callers can use X-QT-AUTH for the same purpose.</p>
<h1 id='em-deprecated-em-for-platform-customers'>[<em>DEPRECATED</em>] For Platform Customers</h1>
<p>The below APIs are deprecated. Please use this instead.</p>

<p>The customers of Quintype platform can use below APIs for subscriptions in Accesstype.</p>
<h2 id='deprecated-post-preview-a-subscription-without-login'>[Deprecated] POST Preview a subscription without login</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"content-type: application/json"</span> https://sketches.quintype.com/api/v1/members/me/subscriptions/preview-without-login -d <span class="s1">'{
    "member": {
      "email": "example@gmail.com"
    },
    "subscription": {
      "subscription_plan_id": "11",
      "coupon_code": "NEWYEAR",
      "payment": {
          "payment_type": "razorpay",
          "amount_cents": "99900",
          "amount_currency": "INR"
      },
      "metadata":  {
          "full-name": "hello",
          "email": "hello@quintype.com"
      },
      "start_timestamp": "2017-09-21 00:00:00"
  }
}
'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"subscription"</span>: <span class="o">{</span>
    <span class="s2">"invoices"</span>: <span class="o">[]</span>,
    <span class="s2">"next_payment_due_date"</span>: null,
    <span class="s2">"deleted_at"</span>: null,
    <span class="s2">"campaign_name"</span>: null,
    <span class="s2">"payment_amount_currency"</span>: <span class="s2">"INR"</span>,
    <span class="s2">"campaign_subscription"</span>: <span class="nb">false</span>,
    <span class="s2">"campaign_id"</span>: null,
    <span class="s2">"start_timestamp"</span>: <span class="s2">"2018-07-24T00:00:00.000Z"</span>,
    <span class="s2">"assets"</span>: <span class="o">[</span>
      <span class="o">{</span>
        <span class="s2">"title"</span>: <span class="s2">"Asset Site Title"</span>,
        <span class="s2">"metadata"</span>: <span class="o">{}</span>,
        <span class="s2">"type"</span>: <span class="s2">"site"</span>
      <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">"end_timestamp"</span>: <span class="s2">"2018-08-24T00:00:00.000Z"</span>,
    <span class="s2">"payment_amount"</span>: <span class="s2">"8.50"</span>,
    <span class="s2">"discount_detail"</span>: <span class="o">{</span>
      <span class="s2">"code"</span>: <span class="s2">"NEWYEAR"</span>,
      <span class="s2">"discount_type"</span>: <span class="s2">"percent"</span>,
      <span class="s2">"title"</span>: <span class="s2">"New Year offer"</span>,
      <span class="s2">"value"</span>: 15,
      <span class="s2">"discounted_price_cents"</span>: 850,
      <span class="s2">"price_cents"</span>: 1000,
      <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>
    <span class="o">}</span>,
    <span class="s2">"duration_length"</span>: 1,
    <span class="s2">"dynamic_assets"</span>: <span class="o">{}</span>,
    <span class="s2">"trial_period_length"</span>: null,
    <span class="s2">"group_description"</span>: <span class="s2">"Subscription Group Description"</span>,
    <span class="s2">"renewable"</span>: <span class="nb">true</span>,
    <span class="s2">"subscription_attempt_id"</span>: null,
    <span class="s2">"subscription_group_id"</span>: 4409,
    <span class="s2">"coupon_code"</span>: <span class="s2">"NEWYEAR"</span>,
    <span class="s2">"recurring"</span>: <span class="nb">false</span>,
    <span class="s2">"payment_type"</span>: <span class="s2">"preview"</span>,
    <span class="s2">"cancelled"</span>: <span class="nb">false</span>,
    <span class="s2">"payment_token"</span>: null,
    <span class="s2">"updated_at"</span>: null,
    <span class="s2">"coupon_code_id"</span>: 81,
    <span class="s2">"plan_amount_cents"</span>: 1000,
    <span class="s2">"status"</span>: <span class="s2">"expired"</span>,
    <span class="s2">"group_name"</span>: <span class="s2">"Test_Subscription_Group1544522619333"</span>,
    <span class="s2">"external_id"</span>: null,
    <span class="s2">"active"</span>: <span class="nb">false</span>,
    <span class="s2">"id"</span>: null,
    <span class="s2">"plan_occurrence"</span>: <span class="s2">"One Time"</span>,
    <span class="s2">"in_grace_period"</span>: <span class="nb">false</span>,
    <span class="s2">"code"</span>: null,
    <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
      <span class="s2">"provider"</span>: <span class="s2">"email"</span>,
      <span class="s2">"value"</span>: <span class="s2">"qa20Dec2018123234@quintype.com"</span>
    <span class="o">}</span>,
    <span class="s2">"plan_amount_currency"</span>: <span class="s2">"INR"</span>,
    <span class="s2">"expired"</span>: <span class="nb">true</span>,
    <span class="s2">"payment_id"</span>: null,
    <span class="s2">"plan_name"</span>: <span class="s2">"Test "</span>,
    <span class="s2">"subscription_plan_id"</span>: 5594,
    <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>,
    <span class="s2">"trial_period_unit"</span>: null,
    <span class="s2">"subscription_type"</span>: <span class="s2">"standard"</span>,
    <span class="s2">"plan_description"</span>: <span class="s2">"test"</span>,
    <span class="s2">"cancelled_at"</span>: null,
    <span class="s2">"metadata"</span>: <span class="o">{</span>
      <span class="s2">"mobile"</span>: <span class="s2">"9844089877"</span>,
      <span class="s2">"full-name"</span>: <span class="s2">"hello"</span>,
      <span class="s2">"email"</span>: <span class="s2">"hello@quintype.com"</span>
    <span class="o">}</span>,
    <span class="s2">"renewal_reminder_sent_date"</span>: null,
    <span class="s2">"created_at"</span>: null,
    <span class="s2">"subscriber_id"</span>: 37104,
    <span class="s2">"payment_amount_cents"</span>: 850
  <span class="o">}</span>,
  <span class="s2">"attempt_token"</span>: <span class="s2">"9r1Sctb2pyvocEkwhp1U5Sfq"</span>,
  <span class="s2">"external_reference_id"</span>: null
<span class="o">}</span>
</code></pre>
<p>This API can be used to preview a subscription when user is not logged in.</p>

<p>It returns a preview for a Subscription, without creating a new subscription.
For a successful subscription, it also return an <code>attempt_token</code>.</p>

<p>An <code>attempt_token</code> is the identifier of a subscription attempt. It should be sent back with <a href="#post-register-and-subscribe-a-user">register &amp; subscribe</a> api or <a href="#post-subscribe-without-login">subscribe without login</a> api to mark an attempt as success.</p>

<p>We highly recommend use of this API before accepting payment form a user.</p>
<h2 id='deprecated-post-preview-a-subscription-for-logged-in-user'>[Deprecated] POST Preview a subscription for logged in user</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"content-type: application/json"</span> https://sketches.quintype.com/api/v1/api/v1/members/me/subscriptions/preview -d <span class="s1">'{
  "subscription": {
    "subscription_plan_id": "11",
    "coupon_code": "NEWYEAR",
    "payment": {
        "payment_type": "razorpay",
        "amount_cents": "99900",
        "amount_currency": "INR"
    },
    "metadata":  {
        "full-name": "hello",
        "email": "hello@quintype.com"
    },
    "start_timestamp": "2017-09-21 00:00:00"
  }
}
'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code>  <span class="o">{</span>
    <span class="s2">"subscription"</span>: <span class="o">{</span>
        <span class="s2">"id"</span>: null,
        <span class="s2">"subscriber_id"</span>: 8302,
        <span class="s2">"subscription_plan_id"</span>: 11,
        <span class="s2">"created_at"</span>: null,
        <span class="s2">"updated_at"</span>: null,
        <span class="s2">"assets"</span>: <span class="o">[]</span>,
        <span class="s2">"start_timestamp"</span>: <span class="s2">"2218-09-29T19:54:02.833Z"</span>,
        <span class="s2">"end_timestamp"</span>: <span class="s2">"2318-09-29T19:54:02.833Z"</span>,
        <span class="s2">"deleted_at"</span>: null,
        <span class="s2">"payment_id"</span>: null,
        <span class="s2">"metadata"</span>: <span class="o">{</span>
          <span class="s2">"full-name"</span>: <span class="s2">"hello"</span>,
          <span class="s2">"email"</span>: <span class="s2">"hello@quintype.com"</span>
        <span class="o">}</span>,
        <span class="s2">"external_id"</span>: null,
        <span class="s2">"trial_period_length"</span>: null,
        <span class="s2">"trial_period_unit"</span>: null,
        <span class="s2">"code"</span>: null,
        <span class="s2">"discount_detail"</span>: <span class="o">{}</span>,
        <span class="s2">"coupon_code_id"</span>: null,
        <span class="s2">"campaign_id"</span>: null,
        <span class="s2">"plan_amount_cents"</span>: 50000,
        <span class="s2">"plan_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"duration_unit"</span>: <span class="s2">"lifetime"</span>,
        <span class="s2">"duration_length"</span>: 1,
        <span class="s2">"plan_name"</span>: <span class="s2">"life time "</span>,
        <span class="s2">"plan_description"</span>: <span class="s2">"life time "</span>,
        <span class="s2">"group_name"</span>: <span class="s2">"prod test 30 aug"</span>,
        <span class="s2">"group_description"</span>: <span class="s2">"prod test 30 aug"</span>,
        <span class="s2">"subscription_type"</span>: <span class="s2">"standard"</span>,
        <span class="s2">"plan_occurrence"</span>: <span class="s2">"One Time"</span>,
        <span class="s2">"subscription_attempt_id"</span>: null,
        <span class="s2">"renewal_reminder_sent_date"</span>: null,
        <span class="s2">"dynamic_assets"</span>: <span class="o">{}</span>,
        <span class="s2">"subscription_group_id"</span>: 2313,
        <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
            <span class="s2">"provider"</span>: <span class="s2">"email"</span>,
            <span class="s2">"value"</span>: <span class="s2">"biswajit+29@quintype.com"</span>
        <span class="o">}</span>,
        <span class="s2">"active"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_amount"</span>: <span class="s2">"0.00"</span>,
        <span class="s2">"payment_amount_cents"</span>: 0,
        <span class="s2">"payment_amount_currency"</span>: <span class="s2">"USD"</span>,
        <span class="s2">"payment_type"</span>: <span class="s2">"manual"</span>,
        <span class="s2">"payment_token"</span>: null,
        <span class="s2">"renewable"</span>: <span class="nb">false</span>,
        <span class="s2">"status"</span>: <span class="s2">"pending"</span>,
        <span class="s2">"expired"</span>: <span class="nb">false</span>,
        <span class="s2">"coupon_code"</span>: <span class="s2">"NEWYEAR,
        "</span>campaign_name<span class="s2">": null,
        "</span>campaign_subscription<span class="s2">": false,
        "</span>recurring<span class="s2">": false,
        "</span>cancelled_at<span class="s2">": null,
        "</span>next_payment_due_date<span class="s2">": null,
        "</span>cancelled<span class="s2">": false,
        "</span>in_grace_period<span class="s2">": false
    },
    "</span>attempt_token<span class="s2">": "</span>SSLvhLBEWiMxcEiMKgHxATpJ<span class="s2">",
    "</span>external_reference_id<span class="s2">": null
}
</span></code></pre>
<p>It returns a preview for a Subscription, without creating a new subscription.
For a successful subscription, it also return an <code>attempt_token</code>.</p>

<p>An <code>attempt_token</code> is the identifier of a subscription attempt. It should be sent back with <a href="#post-create-subscription-for-logged-in-user">create-subscription</a> api.</p>

<p>We highly recommend use of this API before accepting payment form a user.</p>
<h2 id='deprecated-post-register-and-subscribe-without-login'>[Deprecated] POST Register And Subscribe without login</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: sample-auth"</span> -H <span class="s2">"Content-Type: application/json"</span> http://sketches.quintype.com/api/v1/register-and-subscribe -d <span class="s1">'{
   "member": {
        "email": "ace33@quintype.com",
        "username": "ace 33",
        "password": "password",
        "name": "ace 33",
        "dont-login": false
    },
    "options": {
        "gateway-name": "razorpay"
    },
    "payment": {
        "attributes": {
            "currency": "INR",
            "amount": 100,
            "payment-type": "Razorpay",
            "gateway-payment-id": "pay_123trt465",
            "attributes": ""
        }
    },
    "subscription": {
        "accesstype-plan-id": 4,
        "metadata": {
          "city": "Bangalore",
          "state": "Karnataka",
          "house": "Old Airport Road, Murugeshpallya, Bangalore",
          "street": "Old Airport Road, Murugeshpallya, Bangalore",
          "landmark": "Karnataka",
          "pincode": "560017",
          "mobile": "8129612361"
         },
         "coupon-code": "HOLI"
    },
    "attempt-token": "attempt-token"}
'</span>

</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
    <span class="s2">"subscription"</span>: <span class="o">{</span>
        <span class="s2">"invoices"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"amount_after_discount_before_tax"</span>: <span class="s2">"122.03"</span>,
                <span class="s2">"amount_currency"</span>: <span class="s2">"INR"</span>,
                <span class="s2">"id"</span>: 990,
                <span class="s2">"invoice_taxes"</span>: <span class="o">{</span>
                    <span class="s2">"SGST"</span>: <span class="o">{</span>
                        <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
                        <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
                        <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
                    <span class="o">}</span>,
                    <span class="s2">"CGST"</span>: <span class="o">{</span>
                        <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
                        <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
                        <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"amount_cents"</span>: 14400,
                <span class="s2">"base_price"</span>: <span class="s2">"152.54"</span>,
                <span class="s2">"sequenced_invoice_number"</span>: <span class="s2">"BQ/1819/SUB/167"</span>,
                <span class="s2">"discount_details"</span>: <span class="o">{</span>
                    <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
                    <span class="s2">"discount_percentage"</span>: 20,
                    <span class="s2">"discount_amount"</span>: <span class="s2">"30.51"</span>
                <span class="o">}</span>,
                <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.590Z"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"next_payment_due_date"</span>: null,
        <span class="s2">"deleted_at"</span>: null,
        <span class="s2">"campaign_name"</span>: null,
        <span class="s2">"payment_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"campaign_subscription"</span>: <span class="nb">false</span>,
        <span class="s2">"campaign_id"</span>: null,
        <span class="s2">"start_timestamp"</span>: <span class="s2">"2021-08-07T11:28:46.271Z"</span>,
        <span class="s2">"assets"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"Site"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{}</span>,
                <span class="s2">"type"</span>: <span class="s2">"site"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"Monthly magazines"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{}</span>,
                <span class="s2">"type"</span>: <span class="s2">"static"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All exclusive reportage content"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: 400
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All paid stories"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: 300
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All Story"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: <span class="s2">"999"</span>
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"end_timestamp"</span>: <span class="s2">"2021-11-07T11:28:46.271Z"</span>,
        <span class="s2">"payment_amount"</span>: <span class="s2">"144.00"</span>,
        <span class="s2">"discount_detail"</span>: <span class="o">{</span>
            <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
            <span class="s2">"discount_type"</span>: <span class="s2">"percent"</span>,
            <span class="s2">"title"</span>: <span class="s2">"UAT Trial"</span>,
            <span class="s2">"value"</span>: 20,
            <span class="s2">"discounted_price_cents"</span>: 14400,
            <span class="s2">"price_cents"</span>: 18000,
            <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>
        <span class="o">}</span>,
        <span class="s2">"duration_length"</span>: 3,
        <span class="s2">"dynamic_assets"</span>: <span class="o">{}</span>,
        <span class="s2">"trial_period_length"</span>: null,
        <span class="s2">"group_description"</span>: <span class="s2">"Silver + Access to Exclusive Reportage + Monthly round-up magazines"</span>,
        <span class="s2">"renewable"</span>: <span class="nb">false</span>,
        <span class="s2">"subscription_attempt_id"</span>: 96595,
        <span class="s2">"subscription_group_id"</span>: 2197,
        <span class="s2">"coupon_code"</span>: <span class="s2">"UAT"</span>,
        <span class="s2">"recurring"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_type"</span>: <span class="s2">"razorpay"</span>,
        <span class="s2">"cancelled"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_token"</span>: <span class="s2">"pay_BWpQWQcLLK3L37"</span>,
        <span class="s2">"updated_at"</span>: <span class="s2">"2018-12-12T10:25:48.494Z"</span>,
        <span class="s2">"coupon_code_id"</span>: 82,
        <span class="s2">"plan_amount_cents"</span>: 18000,
        <span class="s2">"status"</span>: <span class="s2">"pending"</span>,
        <span class="s2">"group_name"</span>: <span class="s2">"Unlimited"</span>,
        <span class="s2">"external_id"</span>: null,
        <span class="s2">"active"</span>: <span class="nb">false</span>,
        <span class="s2">"id"</span>: 32405,
        <span class="s2">"plan_occurrence"</span>: <span class="s2">"One Time"</span>,
        <span class="s2">"in_grace_period"</span>: <span class="nb">false</span>,
        <span class="s2">"code"</span>: null,
        <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
            <span class="s2">"provider"</span>: <span class="s2">"quintype"</span>,
            <span class="s2">"value"</span>: <span class="s2">"251933"</span>
        <span class="o">}</span>,
        <span class="s2">"plan_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"expired"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_id"</span>: 32379,
        <span class="s2">"plan_name"</span>: <span class="s2">"3 months"</span>,
        <span class="s2">"subscription_plan_id"</span>: 2118,
        <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>,
        <span class="s2">"trial_period_unit"</span>: null,
        <span class="s2">"subscription_type"</span>: <span class="s2">"standard"</span>,
        <span class="s2">"plan_description"</span>: <span class="s2">"All assets "</span>,
        <span class="s2">"cancelled_at"</span>: null,
        <span class="s2">"metadata"</span>: <span class="o">{</span>
            <span class="s2">"mobile_number"</span>: <span class="s2">"7639817688"</span>
        <span class="o">}</span>,
        <span class="s2">"renewal_reminder_sent_date"</span>: null,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.494Z"</span>,
        <span class="s2">"subscriber_id"</span>: 9311,
        <span class="s2">"payment_amount_cents"</span>: 14400
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>Registers a member and creates subscription in Accesstype. To be used for users that have not logged in. It returns X-QT-AUTH in response headers.</p>

<p><code>gateway-name</code> can be any valid payment-type supported by Accesstype.</p>

<p><code>accesstype-plan-id</code> is the Id of plan in Accesstype.</p>

<p><code>attempt-token</code> can be fetched using <a href="#post-preview-subscription">preview</a> api. This is an optional parameter but we advice you to use it for better tracking of transactions.</p>
<h2 id='deprecated-post-create-subscription-for-logged-in-user'>[Deprecated] POST Create Subscription for logged in user</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X POST http://sketches.quintype.com/api/v1/members/me/subscriptions -d <span class="s1">'{
  "subscription": {
    "subscription_plan_id": "2118",
    "coupon_code": "UAT",
    "payment": {
        "payment_type": "razorpay",
        "payment_token": "pay_BWpQWQcLLK3L37",
        "amount_cents": "14400",
        "amount_currency": "INR"
    },
    "metadata":  {
        "full-name": "hello",
        "email": "hello@quintype.com"
    },
    "start_timestamp": "2018-09-21 00:00:00"
  },
  "attempt_token": "fo4bMWjP6N5vtVySNtiAUNBQ"
}'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
    <span class="s2">"subscription"</span>: <span class="o">{</span>
        <span class="s2">"invoices"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"amount_after_discount_before_tax"</span>: <span class="s2">"122.03"</span>,
                <span class="s2">"amount_currency"</span>: <span class="s2">"INR"</span>,
                <span class="s2">"id"</span>: 990,
                <span class="s2">"invoice_taxes"</span>: <span class="o">{</span>
                    <span class="s2">"SGST"</span>: <span class="o">{</span>
                        <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
                        <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
                        <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
                    <span class="o">}</span>,
                    <span class="s2">"CGST"</span>: <span class="o">{</span>
                        <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
                        <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
                        <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
                    <span class="o">}</span>
                <span class="o">}</span>,
                <span class="s2">"amount_cents"</span>: 14400,
                <span class="s2">"base_price"</span>: <span class="s2">"152.54"</span>,
                <span class="s2">"sequenced_invoice_number"</span>: <span class="s2">"BQ/1819/SUB/167"</span>,
                <span class="s2">"discount_details"</span>: <span class="o">{</span>
                    <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
                    <span class="s2">"discount_percentage"</span>: 20,
                    <span class="s2">"discount_amount"</span>: <span class="s2">"30.51"</span>
                <span class="o">}</span>,
                <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.590Z"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"next_payment_due_date"</span>: null,
        <span class="s2">"deleted_at"</span>: null,
        <span class="s2">"campaign_name"</span>: null,
        <span class="s2">"payment_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"campaign_subscription"</span>: <span class="nb">false</span>,
        <span class="s2">"campaign_id"</span>: null,
        <span class="s2">"start_timestamp"</span>: <span class="s2">"2021-08-07T11:28:46.271Z"</span>,
        <span class="s2">"assets"</span>: <span class="o">[</span>
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"Site"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{}</span>,
                <span class="s2">"type"</span>: <span class="s2">"site"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"Monthly magazines"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{}</span>,
                <span class="s2">"type"</span>: <span class="s2">"static"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All exclusive reportage content"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: 400
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All paid stories"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: 300
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>,
            <span class="o">{</span>
                <span class="s2">"title"</span>: <span class="s2">"All Story"</span>,
                <span class="s2">"metadata"</span>: <span class="o">{</span>
                    <span class="s2">"access_level"</span>: <span class="s2">"999"</span>
                <span class="o">}</span>,
                <span class="s2">"type"</span>: <span class="s2">"story"</span>
            <span class="o">}</span>
        <span class="o">]</span>,
        <span class="s2">"end_timestamp"</span>: <span class="s2">"2021-11-07T11:28:46.271Z"</span>,
        <span class="s2">"payment_amount"</span>: <span class="s2">"144.00"</span>,
        <span class="s2">"discount_detail"</span>: <span class="o">{</span>
            <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
            <span class="s2">"discount_type"</span>: <span class="s2">"percent"</span>,
            <span class="s2">"title"</span>: <span class="s2">"UAT Trial"</span>,
            <span class="s2">"value"</span>: 20,
            <span class="s2">"discounted_price_cents"</span>: 14400,
            <span class="s2">"price_cents"</span>: 18000,
            <span class="s2">"price_currency"</span>: <span class="s2">"INR"</span>
        <span class="o">}</span>,
        <span class="s2">"duration_length"</span>: 3,
        <span class="s2">"dynamic_assets"</span>: <span class="o">{}</span>,
        <span class="s2">"trial_period_length"</span>: null,
        <span class="s2">"group_description"</span>: <span class="s2">"Silver + Access to Exclusive Reportage + Monthly round-up magazines"</span>,
        <span class="s2">"renewable"</span>: <span class="nb">false</span>,
        <span class="s2">"subscription_attempt_id"</span>: 96595,
        <span class="s2">"subscription_group_id"</span>: 2197,
        <span class="s2">"coupon_code"</span>: <span class="s2">"UAT"</span>,
        <span class="s2">"recurring"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_type"</span>: <span class="s2">"razorpay"</span>,
        <span class="s2">"cancelled"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_token"</span>: <span class="s2">"pay_BWpQWQcLLK3L37"</span>,
        <span class="s2">"updated_at"</span>: <span class="s2">"2018-12-12T10:25:48.494Z"</span>,
        <span class="s2">"coupon_code_id"</span>: 82,
        <span class="s2">"plan_amount_cents"</span>: 18000,
        <span class="s2">"status"</span>: <span class="s2">"pending"</span>,
        <span class="s2">"group_name"</span>: <span class="s2">"Unlimited"</span>,
        <span class="s2">"external_id"</span>: null,
        <span class="s2">"active"</span>: <span class="nb">false</span>,
        <span class="s2">"id"</span>: 32405,
        <span class="s2">"plan_occurrence"</span>: <span class="s2">"One Time"</span>,
        <span class="s2">"in_grace_period"</span>: <span class="nb">false</span>,
        <span class="s2">"code"</span>: null,
        <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
            <span class="s2">"provider"</span>: <span class="s2">"quintype"</span>,
            <span class="s2">"value"</span>: <span class="s2">"251933"</span>
        <span class="o">}</span>,
        <span class="s2">"plan_amount_currency"</span>: <span class="s2">"INR"</span>,
        <span class="s2">"expired"</span>: <span class="nb">false</span>,
        <span class="s2">"payment_id"</span>: 32379,
        <span class="s2">"plan_name"</span>: <span class="s2">"3 months"</span>,
        <span class="s2">"subscription_plan_id"</span>: 2118,
        <span class="s2">"duration_unit"</span>: <span class="s2">"months"</span>,
        <span class="s2">"trial_period_unit"</span>: null,
        <span class="s2">"subscription_type"</span>: <span class="s2">"standard"</span>,
        <span class="s2">"plan_description"</span>: <span class="s2">"All assets "</span>,
        <span class="s2">"cancelled_at"</span>: null,
        <span class="s2">"metadata"</span>: <span class="o">{</span>
            <span class="s2">"mobile_number"</span>: <span class="s2">"7639817688"</span>
        <span class="o">}</span>,
        <span class="s2">"renewal_reminder_sent_date"</span>: null,
        <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.494Z"</span>,
        <span class="s2">"subscriber_id"</span>: 9311,
        <span class="s2">"payment_amount_cents"</span>: 14400
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
<p>This API can be used to create a subscription.</p>

<p>Here <code>attempt_token</code> is the token received from <a href="#post-preview-a-subscription-for-logged-in-user">preview</a>.</p>

<p>This API is safe to call from the front end JS, where it will read session-cookie to determine the current user. Backend callers can use X-QT-AUTH for the same purpose.</p>
<h2 id='deprecated-list-all-subscriptions-of-a-user'>[Deprecated] LIST All subscriptions of a user</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> http://sketches.quintype.com/api/v1/members/me/subscriptions

</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
  <span class="s2">"subscriptions"</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">"invoices"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"amount_after_discount_before_tax"</span>: <span class="s2">"122.03"</span>,
          <span class="s2">"amount_currency"</span>: <span class="s2">"INR"</span>,
          <span class="s2">"id"</span>: 990,
          <span class="s2">"invoice_taxes"</span>: <span class="o">{</span>
            <span class="s2">"SGST"</span>: <span class="o">{</span>
              <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
              <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
              <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
            <span class="o">}</span>,
            <span class="s2">"CGST"</span>: <span class="o">{</span>
              <span class="s2">"percentage"</span>: <span class="s2">"9.0"</span>,
              <span class="s2">"amount"</span>: <span class="s2">"10.98"</span>,
              <span class="s2">"currency"</span>: <span class="s2">"INR"</span>
            <span class="o">}</span>
          <span class="o">}</span>,
          <span class="s2">"amount_cents"</span>: 14400,
          <span class="s2">"base_price"</span>: <span class="s2">"152.54"</span>,
          <span class="s2">"sequenced_invoice_number"</span>: <span class="s2">"BQ/1819/SUB/167"</span>,
          <span class="s2">"discount_details"</span>: <span class="o">{</span>
            <span class="s2">"code"</span>: <span class="s2">"UAT"</span>,
            <span class="s2">"discount_percentage"</span>: 20,
            <span class="s2">"discount_amount"</span>: <span class="s2">"30.51"</span>
          <span class="o">}</span>,
          <span class="s2">"created_at"</span>: <span class="s2">"2018-12-12T10:25:48.590Z"</span>
        <span class="o">}</span>
      <span class="o">]</span>,
      <span class="s2">"id"</span>: 713,
      <span class="s2">"subscriber_id"</span>: 453,
      <span class="s2">"subscription_plan_id"</span>: 16,
      <span class="s2">"created_at"</span>: <span class="s2">"2017-10-30T10:55:42.201Z"</span>,
      <span class="s2">"updated_at"</span>: <span class="s2">"2017-10-30T10:55:42.201Z"</span>,
      <span class="s2">"assets"</span>: <span class="o">[</span>
        <span class="o">{</span>
          <span class="s2">"metadata"</span>: <span class="o">{}</span>,
          <span class="s2">"title"</span>: <span class="s2">"public"</span>,
          <span class="s2">"type"</span>: <span class="s2">"site"</span>
        <span class="o">}</span>
      <span class="o">]</span>,
      <span class="s2">"start_timestamp"</span>: <span class="s2">"2017-10-30T10:55:42.176Z"</span>,
      <span class="s2">"end_timestamp"</span>: <span class="s2">"2017-11-13T10:55:42.176Z"</span>,
      <span class="s2">"deleted_at"</span>: null,
      <span class="s2">"payment_id"</span>: 668,
      <span class="s2">"metadata"</span>: <span class="o">{</span>
        <span class="s2">"Name"</span>: <span class="s2">"Sample User"</span>,
        <span class="s2">"Address"</span>: <span class="s2">"Sample add"</span>,
        <span class="s2">"Phone Number"</span>: <span class="s2">"1111111111"</span>
      <span class="o">}</span>,
      <span class="s2">"external_id"</span>: null,
      <span class="s2">"trial_period_length"</span>: null,
      <span class="s2">"trial_period_unit"</span>: null,
      <span class="s2">"coupon_code"</span>: null,
      <span class="s2">"subscription_group_id"</span>: 21,
      <span class="s2">"preferred_identity"</span>: <span class="o">{</span>
        <span class="s2">"provider"</span>: <span class="s2">"email"</span>,
        <span class="s2">"value"</span>: <span class="s2">"sample@gmail.com"</span>
      <span class="o">}</span>,
      <span class="s2">"group_name"</span>: <span class="s2">"Sub Group 1"</span>,
      <span class="s2">"plan_name"</span>: <span class="s2">"Sub Plan 1"</span>,
      <span class="s2">"duration_length"</span>: 2,
      <span class="s2">"duration_unit"</span>: <span class="s2">"weeks"</span>,
      <span class="s2">"subscription_type"</span>: <span class="s2">"individual"</span>,
      <span class="s2">"active"</span>: <span class="nb">true</span>,
      <span class="s2">"payment_amount"</span>: <span class="s2">"0.00"</span>,
      <span class="s2">"payment_type"</span>: <span class="s2">"manual"</span>,
      <span class="s2">"renewable"</span>: <span class="nb">true</span>
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>
<p>It gives all subscriptions for a user.</p>

<p>This API is safe to call from the front end JS, where it will read session-cookie to determine the current user. Backend callers can use X-QT-AUTH for the same purpose.</p>
<h2 id='deprecated-list-all-assets-accessible-to-user'>[Deprecated] LIST All Assets accessible to user</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> http://sketches.quintype.com/api/v1/members/me/assets

</code></pre><pre class="highlight shell tab-shell--response"><code><span class="o">{</span>
   <span class="s2">"assets"</span>:[
      <span class="o">{</span>
       <span class="s2">"metadata"</span>:<span class="o">{}</span>,
       <span class="s2">"title"</span>:<span class="s2">"public"</span>,
       <span class="s2">"type"</span>:<span class="s2">"site"</span>
      <span class="o">}</span>
   <span class="o">]</span>
<span class="o">}</span>

</code></pre>
<p>It gives all assets accessible to a user.</p>

<p>This API is safe to call from the front end JS, where it will read session-cookie to determine the current user. Backend callers can use X-QT-AUTH for the same purpose.</p>
<h2 id='deprecated-patch-update-a-subscription'>[Deprecated] PATCH Update a subscription</h2><pre class="highlight shell tab-shell--request"><code>curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -H <span class="s2">"Content-Type: application/json"</span> -X PATCH http://sketches.quintype.com/api/v1/members/me/subscriptions/&lt;id&gt; -d <span class="s1">'{
  "metadata":  {
    "full-name": "hello-world",
    "email": "hello@quintype.com"
  }
}'</span>

</code></pre><pre class="highlight shell tab-shell--response"><code></code></pre>
<p>It updates a subscription for user.</p>

<p>This API is safe to call from the front end JS, where it will read session-cookie to determine the current user. Backend callers can use X-QT-AUTH for the same purpose.</p>
<h2 id='deprecated-get-access-details'>[Deprecated] GET Access details</h2><pre class="highlight shell tab-shell--request"><code> curl -H <span class="s2">"X-QT-AUTH: &lt;your-auth-token&gt;"</span> -X GET <span class="s1">'http://sketches.quintype.com/api/v1/stories/&lt;story-id&gt;/access-data'</span>
</code></pre><pre class="highlight shell tab-shell--response"><code> <span class="o">{</span>
    <span class="s2">"access-data"</span>: <span class="o">{</span>
        <span class="s2">"name"</span>: <span class="s2">"subtype"</span>
    <span class="o">}</span>
 <span class="o">}</span>
</code></pre>
<p>This API can be used to get access details of any story for a user.</p>

<p>It returns 403 if the story is not accessible to user, else 200.</p>

<p>This API is safe to call from the front end JS, where it will read session-cookie to determine the current user. Backend callers can use X-QT-AUTH for the same purpose.</p>
<h1 id='amp-subscriptions'>AMP Subscriptions</h1>
<p>The <a href="https://www.ampproject.org/docs/reference/components/amp-subscriptions">amp-subscriptions</a> extensions implements the subscription-style access/paywall rules.</p>

<p>There could be a local service or vendor services.</p>

<p>A local service is configured fully within the page, including its authorization/pingback endpoints, as well as login and subscribe actions.
The properties in the &quot;local&quot; service are:</p>

<ul>
<li>&quot;authorizationUrl&quot; - the authorization endpoint URL.</li>
<li>&quot;pingbackUrl&quot; - the pingback endpoint URL.</li>
<li>&quot;actions&quot; - a named map of action URLs. At a minimum there must be two actions specified: &quot;login&quot; and &quot;subscribe&quot;.</li>
</ul>

<p>The customers of Quintype platform can use below APIs for amp-subscriptions in Accesstype.</p>
<h2 id='get-authorization-endpoint'>GET Authorization endpoint</h2><pre class="highlight shell tab-shell--request"><code>
<span class="gp">$ </span>curl -X GET <span class="s1">'https://sketches.quintype.com/api/access/v1/stories/&lt;story-id&gt;/amp-access?readerId=&lt;reader-id&gt;'</span>

</code></pre><pre class="highlight shell tab-shell--response"><code>
<span class="o">{</span>
  <span class="s2">"granted"</span>: <span class="nb">true</span>,
  <span class="s2">"grantReason"</span>: <span class="s2">"METERING"</span>,
  <span class="s2">"data"</span>: <span class="o">{</span>
    <span class="s2">"numberRemaining"</span>: 6,
    <span class="s2">"isLoggedIn"</span>: <span class="nb">true</span>
  <span class="o">}</span>
<span class="o">}</span>

</code></pre>
<p>It is a credentialed CORS GET endpoint.</p>

<p>The properties in the response are:</p>

<ul>
<li>&quot;granted&quot; - boolean stating if the access to the document is granted or not.</li>
<li>&quot;grantReason&quot; - the string of the reason for giving the access to the document, recognized reasons are either SUBSCRIBER meaning the user is fully subscribed or METERING meaning user is on metering.</li>
<li>&quot;data&quot; - any free form data which can be used for render templating.</li>
</ul>

<p><em>Note</em> An additional query param <code>disable-meter=true</code> needs to be sent for stories behind hard paywall. Such stories will not be metered and access will be granted only to subscribers.</p>
<h2 id='post-pingback-endpoint'>POST Pingback endpoint</h2><pre class="highlight shell tab-shell--request"><code>
<span class="gp">$ </span>curl -H <span class="s2">"Content-Type: text/plain"</span> -X POST <span class="s1">'https://sketches.quintype.com/api/access/v1/stories/&lt;story-id&gt;/amp-pingback?readerId=&lt;reader-id&gt; -d {
  "granted": true,
  "grantReason": "METERING",
  "data": {
    "numberRemaining": 6,
    "isLoggedIn": true
  }
}'</span>

</code></pre><pre class="highlight shell tab-shell--response"><code>
</code></pre>
<p>It is a credentialed CORS POST endpoint. AMP Runtime calls this endpoint automatically when the Reader has started viewing the document. One of the main goals of the Pingback is for the Publisher to update metering information.</p>

<p>Important: The pingback JSON object is sent with Content-type: text/plain. This is intentional as it removes the need for a CORS preflight check.</p>
<h1 id='faq'>FAQ</h1>
<p>This section details out the steps needed for you to get started with Accesstype</p>
<h2 id='how-to-link-your-razorpay-account-with-accesstype'>How to link your Razorpay account with Accesstype</h2><h3 id='pre-requisite'>Pre-requisite:</h3>
<p>Your Razorpay merchant account must be created.</p>
<h3 id='step-1-setup-api-keys-and-secret'>Step 1: Setup API Keys and Secret:</h3>
<ul>
<li>Go to Razorpay Dashboard <a href="https://dashboard.razorpay.com/#/app/keys">API keys</a> section.</li>
<li>Copy the Razorpay Key ID and Secret.
<img src="/images/FAQ_RZP_APIKey.png" title="Razorpay API keys dashboard" alt="Razorpay API keys dashboard" /></li>
<li>Login to <a href="https://www.accesstype.com">Accesstype.com</a> and Go to Settings --&gt; <a href="https://www.accesstype.com/integrations/payment_gateways">Payment gateways</a><br></li>
<li>Under the Razorpay section of Accesstype, add your Razorpay App Key and Secret.</li>
<li>Press the save button.
<img src="/images/FAQ_AT_PG_RZP.png" title="Accesstype PG screen" alt="Accesstype PG screen" /></li>
</ul>
<h3 id='step-2-setup-webhooks'>Step 2: Setup Webhooks:</h3>
<ul>
<li>Login to <a href="https://www.accesstype.com">Accesstype.com</a> and Go to Settings --&gt; <a href="https://www.accesstype.com/integrations/payment_gateways">Payment gateways</a><br></li>
<li>In the Razorpay section, enter a Webhook secret. Press the save buton.</li>
<li><p>Copy the Razorpay callback URL so that you can use it to setup Webhooks in Razorpay.
<img src="/images/FAQ_AT_PG_RZP.png" title="Accesstype PG screen" alt="Accesstype PG screen" /></p></li>
<li><p>Go to your Razorpay <a href="https://dashboard.razorpay.com/#/app/webhooks">webhooks dashboard.</a> 
<img src="/images/FAQ_RZP_Webhook.png" title="Razorpay Webhook screen" alt="Razorpay Webhook screen" /></p></li>
<li><p>Setup a Razorpay webhook by pasting the Razorpay callback URL provided by Accesstype.</p></li>
<li><p>Add the webhook secret that you had entered in Accesstype </p></li>
<li><p>Enable <code>payment.authorized</code> webhook for plans with One-time payments. Press the save button. </p></li>
<li><p>For recurring subscriptions, additionally enable <code>subscription.charged</code> and <code>subscription.halted</code> events in Razorpay.</p></li>
</ul>

<p>Your Razorpay and Accesstype accounts will now be linked.</p>
<h1 id='release-notes'>Release Notes</h1>
<p>This section contains important Accestype release notes. For any queries, please write to us at <a href="mailto:support@quintype.com">support@quintype.com</a>.</p>
<h2 id='21-nov-19-release-note-accesstype'>21 Nov 19 Release NOte - Accesstype</h2>
<ol>
<li><strong>International Currency Support</strong> - Accesstype can now display and charge payments in multiple currencies. The complete list of currencies supported is available for <a href="https://razorpay.com/accept-international-payments/">Razorpay here</a> and for <a href="https://stripe.com/docs/currencies#presentment-currencies">Stripe here</a>.
<img src="/images/Accesstype_MultiCurrency.png" title="Accesstype Multi Currency" alt="Accesstype Multi Currency" /></li>
<li><strong>Section based access</strong> - Accesstype now lets you define subscripton plans based on Sections available in your Quintype CMS - <strong>Bold</strong> so that the subscribers get access to only the stories available in the particular section or sections.
<img src="/images/Accesstype_SectionAccess.png" title="Accesstype Section Access" alt="Accesstype Section Access" /></li>
</ol>
<h2 id='19-nov-19-release-note-accesstype'>19 Nov 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Google API upgrade</strong> - Accesstype is now updated to work with the latest GooglePay APIs(previously AndroidPay). </li>
</ol>
<h2 id='5-nov-19-release-note-accesstype'>5 Nov 19 Release Note - Accesstype</h2>
<ol>
<li><strong>General Settings</strong> - A new settings page with Account Detailsm API Key and Authentication Key. The API Authentication and API Key fields are displayed to Users with the &quot;Owner&quot; role.
<img src="/images/Accesstype_GeneralSettings.png" title="Accesstype General Settings" alt="Accesstype General Settings" /></li>
<li><strong>Admin email addresses</strong> - A new feature to manage recepients of all admin related emails.
<img src="/images/Accesstype_AdminEmail.png" title="Accesstype Admin Email Settings" alt="Accesstype Admin Email Settings" /></li>
<li><strong>Trial Period in Recurring Subscriptions</strong> - A new feature where recurring subscription plans now have the ability to offer subscribers a trial period before actually being charged. This is functional with Razorpay payment gateway.
<img src="/images/Accesstype_TrialPeriodRecurring.png" title="Accesstype Trial Period" alt="Accesstype Trial Period" /></li>
</ol>
<h2 id='22-oct-19-release-note-accesstype'>22 Oct 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Accesstype.js new method</strong> - Cancel Subscription is now allowed as a method in Accesstype.js.</li>
</ol>
<h2 id='25-sep-19-release-note-accesstype'>25 Sep 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Outgoing Webhooks</strong> - Webhooks setup in Accesstype will automatically be de-activated if Accesstype receives failure responses from the URL (<code>4**</code> or <code>5**</code> HTTP/S response code) for a period of 24 hours. Accesstype users can then enable them by going to the Webhooks dashboard.</li>
</ol>
<h2 id='17-sep-19-release-note-accesstype'>17 Sep 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Subscription Revenue Analytics</strong> - The Revenue Graph indicates the total revenue generated by each individual Group or Plan in the selected time period. Option to choose the Granularity of data, Date range, Currency and Group/Plan.
<img src="/images/Accesstype_RevGraph.png" title="Accesstype Revenue Graph" alt="Accesstype Revenue Graph" /></li>
<li><strong>Subscriber Search upgrade</strong> - Subscriber search result now displays the attempts made by the subscriber as well.</li>
</ol>
<h2 id='10-sep-19-release-note-accesstype'>10 Sep 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Subscriber Search upgrade</strong> - Subscriber search now looks for users who have attempted to make a payment even if the users do not have a subscription record.</li>
</ol>
<h2 id='28-aug-19-release-note-accesstype'>28 Aug 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Stripe Payment Gateway Integration</strong> - Accestype now integrates with Stripe to collect payments. This includes update includes accepting one-time payments from subscribers in INR and USD currencies, listens to webhooks from Stripe and stores payment transaction information in Accesstype.
<img src="/images/Accesstype_Stripe.png" title="Accesstype Stripe" alt="Accesstype Stripe" /></li>
<li>The Subscriber object is now included in the Subscription Object in all the webhook payloads as well as Subscription Preview and Create API responses.</li>
<li><strong>Skip Payment Gateway when no payment needed</strong>Accesstype now has the ability to create subscriptions without payment gateway involvement for subscriptions that don&#39;t have a payment to be made.</li>
</ol>
<h2 id='19-aug-19-release-note-accesstype'>19 Aug 19 Release Note - Accesstype</h2>
<ol>
<li>Attempts CSV report now contains the payment gateway that was used by the potential subscriber to perform the attempt to subscribe.</li>
<li>[Bug fix] - Add identity now trims leading and trailing spaces when Accesstype user adds an email.</li>
<li>[Bug fix] - Paywall meter cookie is now persistent on exiting the browser application.</li>
</ol>
<h2 id='8-aug-19-release-note-accesstype'>8 Aug 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Update Subscriber metadata</strong> - Subscriber information can now be updated by using Accesstype JS.</li>
<li>Manual Subscriptions can now be created and Amount Paid can be captured by Accesstype Owners using the dashboard. 
Go to Accesstype.com &gt; Subscribers &gt; Add new user or find a user by entering email &gt; Select the Group and Plan &gt; Enter Amount paid and notes if any &gt; Click on Save.
<img src="/images/Accesstype_ManualSubscriptionAmountPaid.png" title="Accesstype Manual Subscription Creation Amount Paid" alt="Accesstype Manual Subscription Creation Amount Paid" /></li>
</ol>
<h2 id='5-august-19-release-note-accesstype'>5 August 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Outgoing Webhooks (update)</strong> - <strong>Subscriber Creation</strong> webhook is an additional event that is now available for use. <strong>Time-outs</strong> are now applied to the webhook call that are made to third party systems. Time-outs are set at 10s to establish a connection and 5s to receive a response to the POST API calls.</li>
<li><strong>Skip payment gateway</strong> Accesstype now allows subscriptipons to be created when no  amount is required to be paid. This may happen when the price of the plan is set to 0 or when the entire plan amount is discounted using a coupon code.</li>
</ol>
<h2 id='30-jul-19-release-note-accesstype'>30 Jul 19 Release Note - Accesstype</h2>
<ol>
<li>Juspay payment now opens up in a new tab instead of a new pop-up window.</li>
</ol>
<h2 id='26-jul-19-release-note-accesstype'>26 Jul 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Outgoing Webhooks (update)</strong> - <strong>Subscription Activation</strong> and <strong>Subscription Entered Grace Period</strong> are the events that are additionally available for use.</li>
</ol>
<h2 id='19-jul-19-release-note-accesstype'>19 Jul 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Outgoing Webhooks (update)</strong> - <strong>Subscription Creation</strong>, <strong>Subscription Cancellation</strong> and <strong>Subscription Renewal</strong> are the events that are additionally available for use.</li>
</ol>
<h2 id='1-jul-19-release-note-accesstype'>1 Jul 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Outgoing Webhooks</strong> - Accesstype now has the ability to make webhook calls to third party systems on specific events. Click here to know more about <a href="#webhooks">Accesstype webhooks</a>, <a href="#how-to-setup-accesstype-webhooks">how to set up webhooks</a>, a <a href="#description-of-events">description of the events</a> and <a href="#verify-webhooks-sent-by-accesstype">how to verify the webhooks sent by Accesstype</a>.</li>
</ol>

<p>As part of this release, the <strong>Subscription Expiry</strong> event is available for use.</p>
<h2 id='27-jun-19-release-note-accesstype'>27 Jun 19 Release Note - Accesstype</h2>
<ol>
<li>Cloudfalre purge optimisations.</li>
</ol>
<h2 id='25-jun-19-release-note-accesstype'>25 Jun 19 Release Note - Accesstype</h2>
<ol>
<li>Subscription Preview and Subscription Create without a login, are now allowed in Accesstype.js and served from the Cloudflare edge worker.</li>
</ol>
<h2 id='21-jun-19-release-note-accesstype'>21 Jun 19 Release Note - Accesstype</h2>
<ol>
<li>Accesstype is now integrated with Voucherify so Discount and Referral vouchers can be applied redeemed by subscribers in One-Time subscriptions and Pay Per Asset subscriptions.</li>
</ol>
<h2 id='18-jun-19-release-note-accesstype'>18 Jun 19 Release Note - Accesstype</h2>
<ol>
<li>Get Subscriptions and Get Assets APIs are now available in Accesstype.js and served from the Cloudflare Edge worker.</li>
</ol>
<h2 id='13-jun-19-release-note-accesstype'>13 Jun 19 Release Note - Accesstype</h2>
<ol>
<li>Use publisher domain specific cookie for Paywall meter.</li>
</ol>
<h2 id='29-may-19-release-note-accesstype'>29 May 19  Release Note - Accesstype</h2>
<ol>
<li>Razorpay proactive subscription creation bug fixes.</li>
</ol>
<h2 id='20-may-19-release-note-accesstype'>20 May 19 Release Note - Accesstype</h2>
<ol>
<li>Access grant API now served from the Cloudflare edge worker.</li>
</ol>
<h2 id='10-may-19-release-note-accesstype'>10 May 19 Release Note - Accesstype</h2>
<ol>
<li>Juspay payment optimisations.</li>
</ol>
<h2 id='24-apr-19-release-note-accesstype'>24 Apr 19 Release Note - Accesstype</h2>
<ol>
<li>Paywall meter and Coudflare purge optimisations.</li>
</ol>
<h2 id='17-apr-19-release-note-accesstype'>17 Apr 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Consolidated Daily Subscription Report:</strong> This daily subscription report contains Subscription details, payment information, tax invoice data and subscriber information for Plan based subscriptions, PPA purchases and Campaign subscriptions, all in one file.</li>
</ol>

<p>This CSV report is generated daily for the previous day and is available at </p>

<p>Accesstype &gt; Analytics &gt; Reports </p>

<p><img src="/images/Accesstype_ConsldtdDailySubRep.png" title="Accesstype Consolidated Daily Subscription Report" alt="Accesstype Consolidated Daily Subscription Report" /></p>
<h2 id='11-apr-19-release-note-accesstype'>11 Apr 19 Release Note - Accesstype</h2>
<ol>
<li>Accesstype now uses serverless computing technology for increased efficiency in performance, scalability and resilience.</li>
</ol>
<h2 id='29-mar-19-release-note-accesstype'>29 Mar 19 Release Note - Accesstype</h2>
<ol>
<li><strong>CSV reports now include Payment Transaction Date</strong> for better reconciliation of Recurring subscriptions.</li>
<li><strong>Bug fix:</strong> The Manage Subscription Plan and Group had hidden buttons.</li>
<li><strong>Bug fix:</strong> Recheck Paytm transaction status when it is in pending state.</li>
</ol>
<h2 id='28-mar-19-release-note-accesstype'>28 Mar 19 Release Note - Accesstype</h2>
<ol>
<li><strong>CSV reports now include the International Payment column</strong> to help identify those payments that are made using international cards.</li>
</ol>

<p><strong>Note:</strong> This is applicable to Razorpay payment gateway only. </p>
<h2 id='18-feb-19-release-note-accesstype'>18 Feb 19 Release Note - Accesstype</h2>
<ol>
<li><p><strong>Juspay integration</strong> - Integration with payment aggregator <a href="https://juspay.in">Juspay</a> for iframe type of integration. Juspay&#39;s algorithms choose the best payment gateways for best success rates and also take into account pre-defined priority logic to offer the most efficient payment option to customers. 
To create a Merchant account on Juspay write to <a href="mailto:support@juspay.in">support@juspay.in</a>.
<img src="/images/Accesstype_JuspayPG.png" title="Accesstype Juspay" alt="Accesstype Juspay" /></p></li>
<li><p><strong>Analytics Dashboard</strong> - Monthly and daily insights into the total number of subscriptions that are created.
<img src="/images/Accesstype_Analytics.png" title="Accesstype Analytics Subscription Count" alt="Accesstype Analytics Subscription Count" /></p></li>
</ol>
<h2 id='4-jan-19-release-note-accesstype'>4 Jan 19 Release Note - Accesstype</h2>
<ol>
<li><strong>Updated Subscription CSV Report</strong> - The subscription CSV Report now contains additional fields for financial related purposes: Base Price, Discount amounts, amount after discount before tax and round-off.</li>
<li><strong>Subscriber Name</strong> - The Subscriber name is now displayed in Accesstype UI as well as the CSV report by default, for all subscriptions, Pay Per Asset purchases and Campaign Patrons.
<img src="/images/Accesstype_Sub_Name_UI.png" title="Subscriber Name in UI" alt="Subscriber Name in UI" /></li>
<li><strong>Getsimpl workflow upgrades</strong> - Optimizations and security enhancements on Simpl payment option workflow. </li>
<li><strong>Bug fixes - Subscription CSV Report</strong> - Duplicate entires for recurring subscriptions are elimiated and tax amounts are displayed under the appropriate columns.</li>
</ol>
<h2 id='12-dec-18-release-notes-accesstype'>12 Dec 18 Release Notes - Accesstype</h2><h3 id='new-features'>New Features:</h3>
<ol>
<li><strong>Invoicing and Taxes</strong> - Set up tax names and rates for generating Invoices. The tax rates set up in this module are applied and tax amounts calculated such that the price of the plan/asset is inclusive of taxes.
<img src="/images/Accesstype_TaxSettings.png" title="Tax Settings" alt="Tax Settings" /></li>
<li><p><strong>HTML Template for Invoices</strong> - Upload the HTML invoice using Accesstype. The template can include a bunch of variables that are listed <a href="#get-invoice-pdf-download">here</a>. The Invoice Sequence Prefix of your choice can also be updated. Write to us at <a href="mailto:support@quintype.com">support@quintype.com</a> to reset the invoice sequence number. 
<img src="/images/Accesstype_InvoiceSettings.png" title="Invoice Settings" alt="Invoice Settings" /></p></li>
<li><p><strong>API for PDF invoice download</strong> - The API end point to download PDF invoices for a given subscription is available <a href="#get-invoice-pdf-download">here</a> for those on <a href="https://www.quintype.com">Quintype</a> platform and <a href="#get-invoice-details-for-a-subscription">here</a> for those not on the <a href="https://www.quintype.com">Quintype</a> platform. <strong>Note:</strong> The method to invoke the download Invoice PDF API call can also be made using the AccesstypeJS which is described <a href="https://github.com/quintype/subtype/blob/master/frontend/README.md">here</a> and <a href="https://github.com/quintype/subtype/blob/master/frontend/API.md">here</a>.</p></li>
</ol>
<h2 id='11-oct-18-release-notes-accesstype'>11 Oct 18 Release Notes - Accesstype</h2><h3 id='new-features-2'>New Features:</h3>
<ol>
<li><p><strong><a href="https://business.paytm.com/developers-api/integration/auto-debit/overview">Paytm Payment Gateway - Auto Debit</a></strong> - Accept one-click payments for individual stories using <a href="https://business.paytm.com">Paytm</a> wallets. Customers can link their wallet and purchase individual stories by just a single click.
<img src="/images/AccesstypePaytmPG.png" title="Paytm Auto Debit Payment Gateway" alt="Paytm Auto Debit Payment Gateway" />
The Paytm Auto Debit option can be used via the Accesstype JS. Documentation available here:
<a href="https://github.com/quintype/subtype/blob/master/frontend/README.md">Accesstype.js link 1</a>
<a href="https://github.com/quintype/subtype/blob/master/frontend/API.md">Accesstype.js link 2</a>
<strong>Coming soon:</strong> Paytm-Auto Debit on standard plans.</p></li>
<li><p>URLs of reports generated in Accesstype, are now signed using private URLs and have an expiry for enhanced security.</p></li>
</ol>
<h2 id='24-sep-18-release-notes-accesstype'>24 Sep 18 Release Notes - Accesstype</h2><h3 id='new-features-3'>New Features:</h3>
<ol>
<li><p><strong>Accesstype Javascript</strong> - Publishers on the <a href="https://www.quintype.com">Quintype</a> platform can now easily integrate with Payment Gateways/Wallets as well as set up conversations with Accesstype servers, all in one place using methods in accesstype.js</p>

<ol>
<li><strong>Pay Per Asset(PPA)</strong> APIs to get the price of a story, view available payment options for the user, purchase stories can be called using methods available in Accesstype.js</li>
<li>Accept payments from <a href="https://getsimpl.com"><strong>Simpl</strong></a> payment gateway using accesstype.js for both traditional plans as well as for individual stories(PPA)</li>
<li>Accept payments from <a href="https://razorpay.com"><strong>Razorpay</strong></a> payment gateway using accesstype.js for both traditional plans as well as for individual stories(PPA)
<strong>Documentation links:</strong>
<a href="https://github.com/quintype/subtype/blob/master/frontend/README.md">Accesstype.js link 1</a>
<a href="https://github.com/quintype/subtype/blob/master/frontend/API.md">Accesstype.js link 2</a>
<strong>Note:</strong> To integrate accesstype.js with your website, please get in touch with your account managers or contact us at <a href="mailto:support@quintype.com">support@quintype.com</a></li>
</ol></li>
<li><p><strong>Pay Per Asset(PPA)</strong> - Publishers on the <a href="https://www.quintype.com">Quintype</a> platform can now sell each story(a.k.a asset) individually. Set up pricing for stories and view all purcchases of individual stories using the Accesstype application.
<img src="/images/AccesstypePPASetPrice.png" title="PPA Set Price" alt="PPA Set Price" />
<img src="/images/AccesstypePPAPurchases.png" title="PPA Purchases" alt="PPA Purchases" /></p></li>
<li><p><strong>New Payment Gateway - Simpl</strong> - Publishers can activate and use the <a href="https://getsimpl.com">Simpl</a> payment gateway options for frictionless payments. Also available in the Accesstype.js
<img src="/images/AccesstypePGs.png" title="Simpl PG" alt="Simpl PG" /></p></li>
<li><p><strong>Menu restructure</strong> - The Accesstype menu is now restructured for easy navigation and segregation of subscription/purchase information.</p></li>
</ol>

<p><img src="/images/AccesstypeMenu.png" title="Accesstype Menu" alt="Accesstype Menu" /></p>

<ol>
<li>Encryption of Wallet token.</li>
</ol>
<h2 id='6-aug-18-release-notes-accesstype'>6 Aug 18 Release Notes - Accesstype</h2><h3 id='enhancements-and-bug-fixes'>Enhancements and bug fixes:</h3>
<ol>
<li>Wallets API - Link wallets of <a href="https://getsimpl.com">Simpl</a> and <a href="https://paytm.com">PayTm</a> with publishers. Documentation available <a href="#post-subscriber-wallet-token">here</a></li>
<li>Emails sent out to subscribers have a new look.</li>
<li>Enhancements to help reconcile subscription failures using Android Pay if any.</li>
<li>Minor bug fixes.</li>
</ol>
<h2 id='10-jul-18-release-notes-accesstype'>10 Jul 18 Release Notes - Accesstype</h2><h3 id='enhancements-and-bug-fixes-2'>Enhancements and bug fixes:</h3>
<ol>
<li>Updated the Subscriptions Report to include Plan names of the group, Subscription Created Date and Subscription Start Date.</li>
<li>Security and user concurrency upgrades.</li>
</ol>
<h2 id='28-jun-18-release-notes-accesstype'>28 Jun 18 Release Notes - Accesstype</h2><h3 id='enhancements-and-bug-fixes-3'>Enhancements and bug fixes:</h3>
<ol>
<li>Accesstype users will now have their activities within the application, logged in the database.</li>
<li>Users will now know the account that they are actively working on.
<img src="/images/Account_display28Jun18.png" title="Account Display" alt="Account Display" /></li>
<li>Optimisation in payment gateway integration: Subscription attempts, sucscription creations and multiple payments associated with a subscription are now traceable.</li>
<li>Users can now get instant help using the help chat.
<img src="/images/Support_28Jun18.png" title="Support" alt="Support" /></li>
<li>Easy access link to Accesstype documentation.</li>
<li>[Bug fix] Razorpay payment transaction amounts rounded down in CSV reports</li>
<li>Other bug fixes.</li>
</ol>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell--request">Request</a>
                <a href="#" data-language-name="shell--response">Response</a>
          </div>
      </div>
    </div>
  </body>
</html>
